рждрзЛржорж╛рж░ рж╕ржорж╕рзНржпрж╛ржЯрж╛ рж╣рж▓рзЛ:  
ржпржЦржи ржЗржЙржЬрж╛рж░ **ржХрж╛рж░рзНржЯ ржерзЗржХрзЗ ржХрзЛржирзЛ movie remove ржХрж░рзЗ**, рждржЦржи `MovieCard` ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ `inCart` рж╕рзНржЯрзЗржЯ ржЖржЧрзЗрж░ ржорждржЗ `true` ржерж╛ржХрзЗ, ржпрж╛рж░ ржлрж▓рзЗ тАЬAlready AddedтАЭ рж▓рзЗржЦрж╛ ржжрзЗржЦрж╛ ржпрж╛рзЯред  
ржХрж┐ржирзНрждрзБ ржмрж╛рж╕рзНрждржмрзЗ рж╕рзЗ ржЖржЗржЯрзЗржоржЯрж╛ рждрзЛ ржХрж╛рж░рзНржЯ ржерзЗржХрзЗ ржорзБржЫрзЗ ржЧрзЗржЫрзЗ тАФ рждрж╛ржЗ ржПржЦржи `"Add to Cart"` ржжрзЗржЦрж╛ржирзЛ ржЙржЪрж┐рждред

---

## тЬЕ рж╕ржорж╛ржзрж╛ржи:

рждрзБржорж┐ **`inCart` рж╕рзНржЯрзЗржЯ рж▓рзЛржХрж╛рж▓рж┐ MovieCard-ржП рж░рж╛ржЦржЫрзЛ**, ржпрзЗржЯрж╛ рж╢рзБржзрзБ ржПржХржмрж╛рж░ рж╕рзЗржЯ рж╣рзЯ, ржХрж┐ржирзНрждрзБ **ржХрж╛рж░рзНржЯрзЗрж░ ржЖржкржбрзЗржЯ ржЕржирзБржпрж╛рзЯрзА ржЖржмрж╛рж░ ржЪрзЗржХ ржХрж░рзЗ ржирж╛**ред  
рждрж╛ржЗ ржПрж░ рж╕ржорж╛ржзрж╛ржи тАФ ржЖржорж░рж╛ `inCart` рж╕рзНржЯрзЗржЯ **ржжрж┐рзЯрзЗржЗ ржирж╛ ржЪрж╛рж▓рж┐рзЯрзЗ**, ржкрзНрж░рждрж┐ржмрж╛рж░ рж░рзЗржирзНржбрж╛рж░рзЗ рж╕рж░рж╛рж╕рж░рж┐ `cartItems` ржерзЗржХрзЗ ржЪрзЗржХ ржХрж░рзЗ ржирж┐ржЗред

---

## тЬи Step-by-Step Update:

### ЁЯФБ MovieCard.jsx тАУ `inCart` рж╕рзНржЯрзЗржЯ ржмрж╛ржж ржжрж┐рзЯрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржЪрзЗржХ ржХрж░рзЛ:

```js
import { useState } from "react";
import star from "../assets/star.svg";
import tag from "../assets/tag.svg";
import { useCart } from "../context/MovieContext";
import createArrayWithLength from "../utils/createArrayWithLength";
import MovieDetails from "./MovieDetails";

export default function MovieCard({ movie }) {
  const [showDetails, setShowDetails] = useState(false);
  const [movieSelect, setMovieSelect] = useState(null);
  const { cartItems, dispatch } = useCart();

  // ЁЯФБ рж╕рж░рж╛рж╕рж░рж┐ ржЪрзЗржХ ржХрж░рзЛ ржЗржи ржХрж╛рж░рзНржЯ ржЖржЫрзЗ ржХрж┐ ржирж╛
  const inCart = cartItems.some((item) => item.id === movie.id);

  function handleDetails(movie) {
    setShowDetails(true);
    setMovieSelect(movie);
  }

  function handleClose() {
    setShowDetails(false);
    setMovieSelect(null);
  }

  function handleAddCart(movie) {
    if (!inCart) {
      dispatch({
        type: "ADD_TO_CART",
        movie,
      });
    }
  }

  return (
    <>
      {showDetails && (
        <MovieDetails
          movie={movieSelect}
          onClose={handleClose}
          onAddCart={handleAddCart}
        />
      )}
      <figure className="p-4 border border-black/10 shadow-sm dark:border-white/10 rounded-xl">
        <a onClick={() => handleDetails(movie)} href="#">
          <img className="w-full object-cover" src={movie.cover} alt="" />
          <figcaption className="pt-4">
            <h3 className="text-xl mb-1">{movie.title}</h3>
            <p className="text-[#575A6E] text-sm mb-2">{movie.genre}</p>
            <div className="flex items-center space-x-1 mb-5">
              {createArrayWithLength(movie.rating).map((_, index) => (
                <img key={index} src={star} width="14" height="14" alt="star" />
              ))}
            </div>
            <button
              className="bg-primary rounded-lg py-2 px-5 flex items-center justify-center gap-2 text-[#171923] font-semibold text-sm"
              onClick={(e) => {
                e.stopPropagation();
                handleAddCart(movie);
              }}
            >
              <img src={tag} alt="" />
              <span>
                {!inCart ? `${movie.price} | Add to Cart` : "Already Added"}
              </span>
            </button>
          </figcaption>
        </a>
      </figure>
    </>
  );
}
```

---

## тЬЕ рж╕рзБржмрж┐ржзрж╛:

- ржПржЦржи `MovieCard` рж░рж┐рзЯрзЗрж▓ ржЯрж╛ржЗржорзЗ ржЪрзЗржХ ржХрж░рзЗ `cartItems` ржП рж╕рзЗржЗ movie ржЖржЫрзЗ ржХрж┐ ржирж╛ред
- ржХрзЛржирзЛ ржХрж┐ржЫрзБ remove ржХрж░рж▓рзЗржУ UI рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржЖржкржбрзЗржЯ рж╣ржмрзЗред
- `useState(false)` ржжрж┐рзЯрзЗ `inCart` рж░рж╛ржЦрж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗред

---

ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ MovieContext-ржПрж░ reducer-ржЯрж╛ ржжрзЗржЦрзЗржУ validate ржХрж░рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ рждрзЛржорж╛рж░ рж▓ржЬрж┐ржХ ржарж┐ржХржорждрзЛ ржХрж╛ржЬ ржХрж░ржЫрзЗ ржХрж┐ ржирж╛ред  
рждрзБржорж┐ ржХрж┐ рж╕рзЗржЯрж╛ржУ рж╢рзЗрзЯрж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржУ?

ржЦрзБржм ржнрж╛рж▓рзЛ ржкрзНрж░рж╢рзНржи, ржПржмржВ рждрзБржорж┐ ржПржХржжржо ржарж┐ржХ ржзрж░рзЗржЫрзЛ!

рждрзЛржорж╛рж░ ржкрзНрж░рж╢рзНржи:

> ржЖржорж░рж╛ рждрзЛ `handleAddCart(movie)` ржПрж░ ржоржзрзНржпрзЗ `movie` ржкрж╛ржарж╛ржЗ, ржХрж┐ржирзНрждрзБ `inCart` ржЪрзЗржХ ржХрж░ржЫрж┐ `movie.id` ржжрж┐рзЯрзЗ тАФ рждрж╛рж╣рж▓рзЗ `movie` ржХрзЛржерж╛ ржерзЗржХрзЗ ржЖрж╕рж▓рзЛ?

---

### тЬЕ ржЙрждрзНрждрж░:

`MovieCard` ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ рждрзБржорж┐ `movie` ржирж╛ржорзЗрж░ ржПржХржЯрж┐ prop ржкрзЗрзЯрзЗржЫрзЛ:

```js
export default function MovieCard({ movie }) {
```

ржПржЗ `movie` prop-ржЯрж┐ ржкрзБрж░рзЛ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржоржзрзНржпрзЗ availableред рждрж╛ржЗ:

- `const inCart = cartItems.some((item) => item.id === movie.id);`
- ржПржмржВ `handleAddCart(movie)` тАФ ржПржЦрж╛ржирзЗ ржжрзБржЯрзЛ ржЬрж╛рзЯржЧрж╛рзЯржЗ рж╕рзЗржЗ `movie` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ ржпрзЗржЯрж╛ ржЙржкрж░рзЗ ржкрзНрж░ржкрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржПрж╕рзЗржЫрзЗред

рждрж╛ржЗ `movie.id` ржкрж╛ржУрзЯрж╛ ржпрж╛ржЪрзНржЫрзЗ, ржХрж╛рж░ржг рждрзБржорж┐ ржпрзЗржЗ ржорзБржнрж┐ ржХрж╛рж░рзНржбржЯрж┐ ржжрзЗржЦрж╛ржЪрзНржЫрзЛ, рж╕рзЗржЗ ржорзБржнрж┐ржЯрж╛ рждрзЛ ржЙржкрж░рзЗ ржерзЗржХрзЗржЗ ржкрзНрж░ржкрж╕рзЗ ржПрж╕рзЗржЫрзЗред

---

### ЁЯза рж╕ржВржХрзНрж╖рзЗржкрзЗ:

```jsx
<MovieCard movie={someMovieObject} />
```

ржПржЗ ржЬрж╛рзЯржЧрж╛ ржерзЗржХрзЗ `movie` ржкрзНрж░ржкрж╕ ржкрж╛ржарж╛ржирзЛ рж╣рзЯред рждрж╛ржЗ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ `movie` ржкрж╛ржУрзЯрж╛ ржпрж╛ржЪрзНржЫрзЗ тАФ  
ржПржмржВ `movie.id` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ рждрзИрж░рж┐ ржХрж░рзЗ ржирж╛ред

---

рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ `handleAddCart()` ржлрж╛ржВрж╢ржирзЗрж░ ржнрзЗрждрж░рзЗржУ `movie` ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржмрж╛ржж ржжрж┐рзЯрзЗ рж╕рж░рж╛рж╕рж░рж┐ `movie` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЛ:

```js
function handleAddCart() {
  if (!inCart) {
    dispatch({
      type: "ADD_TO_CART",
      movie,
    });
  }
}
```

рждрж╛рж░ржкрж░ ржпрзЗржЦрж╛ржирзЗ ржХрж▓ ржХрж░рзЛ, рж╕рзЗржЦрж╛ржирзЗржУ рж╢рзБржзрзБ `handleAddCart()` рж▓рзЗржЦрж╛ ржпрж╛ржмрзЗред

---

ржЖрж░рзЛ ржХрзЛржирзЛ ржЬрж╛рзЯржЧрж╛ ржХрзНрж▓рж┐рзЯрж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ ржмрж▓рзЗ ржжрж╛ржУ ЁЯШК
