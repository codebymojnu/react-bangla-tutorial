# ржЕржзрзНржпрж╛рзЯ: ржЗржнрзЗржирзНржЯ ржЖрж░ ржЗржлрзЗржХрзНржЯтАФржжрзБржЯрзЛ ржЬрж┐ржирж┐рж╕, ржжрзБржЯрзЛ ржХрж╛ржЬ

## рж╢рзБрж░рзБрждрзЗ ржПржХржЯрзБ ржмрзБржЭрзЗ ржирж┐ржЗ

React-ржП ржХрзЛржб рж▓рзЗржЦрж╛рж░ рж╕ржорзЯ ржЕржирзЗржХ рж╕ржорзЯ ржПржХржЯрж╛ ржкрзНрж░рж╢рзНржи ржЙржарзЗ тАФ
**ржПржЗ ржХрзЛржбржЯрж╛ ржЖржорж┐ ржХрзЛржерж╛рзЯ рж░рж╛ржЦржм? ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗ, ржирж╛ ржЗржлрзЗржХрзНржЯрзЗ?**

ржПржЗ ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржЬрж╛ржирж▓рзЗ ржЖржкржирж┐ ржарж┐ржХ рж╕ржорзЯрзЗ ржарж┐ржХ ржХрж╛ржЬржЯрж╛ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

ржЖржорж░рж╛ ржЬрж╛ржирж┐ тАФ
ЁЯСЙ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржЪрж▓рзЗ ржпржЦржи ржЗржЙржЬрж╛рж░ ржХрж┐ржЫрзБ ржХрж░рзЗ (ржпрзЗржоржи: ржХрзНрж▓рж┐ржХ ржХрж░рзЗ)ред
ЁЯСЙ ржЖрж░ ржЗржлрзЗржХрзНржЯ ржЪрж▓рзЗ ржпржЦржи ржХрзЛржиржУ ржнрзНржпрж╛рж▓рзБ ржмржжрж▓рж╛рзЯ (ржпрзЗржоржи: рж╕рзНржЯрзЗржЯ ржмрж╛ ржкрзНрж░ржк ржмржжрж▓рж╛рзЯ)ред

ржПржЦржи ржЪрж┐ржирзНрждрж╛ ржХрж░рзБржи, ржЖржкржирж┐ ржЪрзНржпрж╛ржЯ ржЕрзНржпрж╛ржк ржмрж╛ржирж╛ржЪрзНржЫрзЗржиред

## ржЖржкржирж╛рж░ ржЯрж╛рж╕рзНржХ ржжрзБржЯрзЛ:

1. ржЗржЙржЬрж╛рж░ ржпржЦржи рж░рзБржо рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзЗ, рждржЦржи рж╕ржЩрзНржЧрзЗ рж╕ржЩрзНржЧрзЗ рж╕рзЗржЗ ржЪрзНржпрж╛ржЯ рж░рзБржорзЗ ржХрж╛ржирзЗржХрзНржЯ рж╣ржмрзЗред
2. ржпржЦржи ржЗржЙржЬрж╛рж░ тАЬSendтАЭ ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░ржмрзЗ, рждржЦржи рж╕рзЗржЗ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж┐рзЯрзЗ ржжрж┐рждрзЗ рж╣ржмрзЗред

ржПржЗ ржжрзБржЗржЯрж╛ ржХрж╛ржЬ ржХрж┐ржирзНрждрзБ ржПржХрж░ржХржо ржирж╛ред

ржЪрж▓рзБржи, ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржжрзЗржЦрж┐ ржХрзЛржи ржХрж╛ржЬржЯрж╛ ржХрзЛржерж╛рзЯ рж░рж╛ржЦрж╛ ржЙржЪрж┐рждред

---

## рзз. ржЗржЙржЬрж╛рж░ ржХрзНрж▓рж┐ржХ ржХрж░рж▓, рждрж╛ржЗ ржХрж╛ржЬржЯрж╛ ржЪрж▓рж▓ тАФ ржПржЯрж╛ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗрж░ ржЬржирзНржп

ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛрж░ рж╕ржорзЯ ржЪрж┐ржирзНрждрж╛ ржХрж░рзБржитАФ
ржЗржЙржЬрж╛рж░ **тАЬSendтАЭ** ржирж╛ ржЪрж╛ржкрж▓рзЗ ржХрж┐ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛ ржарж┐ржХ рж╣ржмрзЗ?

ржирж╛, ржПржХржжржоржЗ ржирж╛ред рждржЦржи ржЗржЙржЬрж╛рж░ ржнрж╛ржмржмрзЗ, тАЬржЖржорж┐ рждрзЛ ржХрж┐ржЫрзБ ржХрж░рж┐ржирж┐, ржорзЗрж╕рзЗржЬ ржЧрзЗрж▓ ржХрзАржнрж╛ржмрзЗ?тАЭ

рждрж╛ржЗ ржПржЗ ржзрж░ржирзЗрж░ ржХрж╛ржЬ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗрж░ ржЬржирзНржп ржкрж╛рж░ржлрзЗржХрзНржЯред

ЁЯСЙ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржорж╛ржирзЗ: ржЗржЙржЬрж╛рж░ ржХрж┐ржЫрзБ ржХрж░рж▓рзЗ рждржЦржиржЗ рж╕рзЗржЗ ржХрж╛ржЬржЯрж╛ рж╣ржмрзЗред

### ржХрзЛржбржЯрж╛ ржХрзЗржоржи рж╣рзЯ ржжрзЗржЦрзБржи:

```jsx
function ChatRoom({ roomId }) {
  const [message, setMessage] = useState("");

  function handleSendClick() {
    sendMessage(message);
  }

  return (
    <>
      <input value={message} onChange={(e) => setMessage(e.target.value)} />
      <button onClick={handleSendClick}>Send</button>
    </>
  );
}
```

ржПржЦрж╛ржирзЗ `sendMessage()` рждржЦржиржЗ ржЪрж▓ржмрзЗ, ржпржЦржи ржЗржЙржЬрж╛рж░ ржирж┐ржЬрзЗ ржХрзНрж▓рж┐ржХ ржХрж░ржмрзЗред
**ржПржЗ ржирж┐рзЯржирзНрждрзНрж░ржгржЯрж╛ ржЗржЙржЬрж╛рж░рзЗрж░ рж╣рж╛рждрзЗ ржерж╛ржХрзЗред** ржПржЯрж╛ржЗ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗрж░ ржЖрж╕рж▓ ржЙржжрзНржжрзЗрж╢рзНржпред

---

## рзз.рзи: ржпржЦржи рж╕рж┐ржЩрзНржХрзНрж░рзЛржирж╛ржЗржЬ ржХрж░рж╛ ржжрж░ржХрж╛рж░, рждржЦржи ржЗржлрзЗржХрзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ

ржЖржЧрзЗрж░ рж╕рзЗржХрж╢ржирзЗ ржЖржорж░рж╛ ржжрзЗржЦрзЗржЫрж┐рж▓рж╛ржо, ржЗржЙржЬрж╛рж░ ржХрж┐ржЫрзБ ржХрж░рж▓рзЗ рждржЦржиржЗ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржЪрж▓рзЗред
ржПржЦржи ржнрж╛ржмрзБржи, ржЖржкржирж┐ ржпрзЗржЗ ржЪрзНржпрж╛ржЯ рж░рзБржорзЗ ржЖржЫрзЗржи, рж╕рзЗржЦрж╛ржирзЗ **рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржХрж╛ржирзЗржХрзНржЯ ржерж╛ржХрж╛** ржжрж░ржХрж╛рж░ред

ржПржЯрж╛ ржХрж┐ ржЗржЙржЬрж╛рж░ ржХрзНрж▓рж┐ржХ ржХрж░рж▓ ржмрж▓рзЗржЗ рж╣ржмрзЗ?

**ржирж╛ред**

ржПржЗ ржХрзЛржбржЯрж╛ ржЪрж╛рж▓рж╛ржирзЛ ржжрж░ржХрж╛рж░ ржХрж╛рж░ржг, ржПржЦржи ржЗржЙржЬрж╛рж░ **ржЪрзНржпрж╛ржЯ рж╕рзНржХрзНрж░рж┐ржирзЗ ржЖржЫрзЗ**ред рж╕рзЗ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржмрзЗ ржХрж┐ ржирж╛, рж╕рзЗржЯрж╛ ржкрж░рзЗ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ тАФ ржПржЦржи рждрж╛рж░ рж╕ржЩрзНржЧрзЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржХрж╛ржирзЗржХрж╢ржи ржерж╛ржХрж╛ ржжрж░ржХрж╛рж░ред

рждрж╛ржЗ ржПржЗ ржХрж╛ржЬржЯрж╛ рж╣ржмрзЗ **Effect** ржжрж┐рзЯрзЗред

### ржЗржлрзЗржХрзНржЯ рждржЦржи ржЪрж▓рзЗ, ржпржЦржи ржнрзНржпрж╛рж▓рзБ ржмржжрж▓рж╛рзЯ тАФ ржпрзЗржоржи `roomId`

```jsx
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, [roomId]);
```

ржПржЦрж╛ржирзЗ `roomId` ржпржЦржиржЗ ржмржжрж▓рж╛ржмрзЗ (ржорж╛ржирзЗ ржЗржЙржЬрж╛рж░ ржирждрзБржи рж░рзБржо рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░ржмрзЗ), рждржЦржи Effect ржЖржмрж╛рж░ ржЪрж▓ржмрзЗред
ржЖрж░ ржЖржЧрзЗрж░ рж░рзБржо ржерзЗржХрзЗ **disconnect** рж╣рзЯрзЗ ржирждрзБржи рж░рзБржорзЗ **connect** рж╣ржмрзЗред

### ржкрзБрж░рзЛ ржХрзЛржбржЯрж╛ ржПржХржмрж╛рж░ ржжрзЗржЦрзЗ ржирж┐ржЗ:

```jsx
function ChatRoom({ roomId }) {
  const [message, setMessage] = useState("");

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);

  function handleSendClick() {
    sendMessage(message);
  }

  return (
    <>
      <h1>{roomId} рж░рзБржорзЗ рж╕рзНржмрж╛ржЧрждржо!</h1>
      <input value={message} onChange={(e) => setMessage(e.target.value)} />
      <button onClick={handleSendClick}>Send</button>
    </>
  );
}
```

ржПржЗ ржЗржлрзЗржХрзНржЯ ржХрзЛржбржЯрж╛ ржирж┐рж╢рзНржЪрзЯрждрж╛ ржжрзЗрзЯ ржпрзЗ ржЗржЙржЬрж╛рж░ ржпрзЗржЦрж╛ржирзЗ ржЖржЫрзЗ, рж╕рзЗржЯрж╛рж░ рж╕ржЩрзНржЧрзЗ ржХрж╛ржирзЗржХрж╢ржи рж╕ржмрж╕ржорзЯ ржарж┐ржХржорждрзЛ рж╣ржЪрзНржЫрзЗред
рж╕рзЗ ржЕрзНржпрж╛ржк ржЦрзЛрж▓рж╛рж░ ржкрж░ржЗ рж╣рзЛржХ, ржХрж┐ржВржмрж╛ ржЕржирзНржп рж░рзБржорзЗ ржЧрж┐рзЯрзЗ ржЖржмрж╛рж░ ржлрж┐рж░рзБржХ тАФ **ржХрж╛ржирзЗржХрж╢ржи рж╕ржмрж╕ржорзЯ ржЖржкржбрзЗржЯрзЗржб** ржерж╛ржХржмрзЗред

---

### ржПржХржЯрж╛ рж╕рж░рж▓ ржЙржкрж╕ржВрж╣рж╛рж░:

- **ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░** ржЪрж╛рж▓рж╛ржУ ржпржЦржи ржЗржЙржЬрж╛рж░ ржХрж┐ржЫрзБ ржХрж░рж▓ (ржпрзЗржоржи ржмрж╛ржЯржи ржХрзНрж▓рж┐ржХ)ред
- **ржЗржлрзЗржХрзНржЯ** ржЪрж╛рж▓рж╛ржУ ржпржЦржи ржЗржЙржЬрж╛рж░ ржХрж┐ржЫрзБ ржирж╛ ржХрж░рж▓рзЗржУ, ржЖржкржирж╛рж░ ржХржорзНржкрзЛржирзЗржирзНржЯржХрзЗ **рж╕рж┐ржЩрзНржХ** ржерж╛ржХрж╛ ржжрж░ржХрж╛рж░ред

---

ржЪржорзОржХрж╛рж░! ржЪрж▓рзБржи ржЖржорж░рж╛ Section 2 ржУ Section 2.1 ржПржХржжржо рж╕рж╣ржЬ, ржкрзНрж░рж╛ржЮрзНржЬрж▓ ржмрж╛ржВрж▓рж╛рзЯ рж▓рж┐ржЦрзЗ ржлрзЗрж▓рж┐ ржпрзЗржи React рж╢рзЗржЦрж╛ ржЖрж░ржУ ржЖржиржирзНржжржжрж╛рзЯржХ ржУ ржмрзЛржзржЧржорзНржп рж╣рзЯред

---

## рзи.рзз: рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн ржорж╛ржи ржПржмржВ рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн ржпрзБржХрзНрждрж┐

React-ржП ржХрж┐ржЫрзБ ржЬрж┐ржирж┐рж╕ **ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐** ржЪрж▓рзЗ (ржЗржЙржЬрж╛рж░ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ), ржЖржмрж╛рж░ ржХрж┐ржЫрзБ ржЬрж┐ржирж┐рж╕ **ржЕржЯрзЛржорзЗржЯрж┐ржХ** ржЪрж▓рзЗ (ржпржЦржи ржжрж░ржХрж╛рж░ рж╣рзЯ)ред
ржЙржжрж╛рж╣рж░ржг:

- **Event handler** ржЪрж▓рзЗ ржЗржЙржЬрж╛рж░ ржХрзЛржирзЛ ржЕрзНржпрж╛ржХрж╢ржи ржирж┐рж▓рзЗред
- **Effect** ржЪрж▓рзЗ ржПржоржирж┐рждрзЗржЗ, ржпржЦржи ржжрж░ржХрж╛рж░ рж╣рзЯ тАФ ржпрж╛рждрзЗ ржХржорзНржкрзЛржирзЗржирзНржЯ рж╕ржмрж╕ржорзЯ **рж╕рж┐ржЩрзНржХ** ржерж╛ржХрзЗред

ржПржмрж╛рж░ ржПржХржЯрзБ ржЧржнрзАрж░ржнрж╛ржмрзЗ ржмрзЛржЭрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐ред

### ржХрзЛржи ржЬрж┐ржирж┐рж╕ржЧрзБрж▓рзЛ "reactive value"?

React-ржП ржпрзЗрж╕ржм ржорж╛ржи (value) ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ component ржЖржмрж╛рж░ render рж╣рзЯ, рж╕рзЗржЧрзБрж▓рзЛржХрзЗ ржмрж▓рзЗ **reactive value**ред

ржпрзЗржоржи ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗтАФ

```jsx
const serverUrl = "https://localhost:1234";

function ChatRoom({ roomId }) {
  const [message, setMessage] = useState("");
}
```

ржПржЦрж╛ржирзЗтАФ

- `serverUrl` рж╣рж▓рзЛ рж╕рж╛ржзрж╛рж░ржг ржнрзЗрж░рж┐рзЯрзЗржмрж▓ред ржПржЯрж╛ reactive ржирзЯред
- ржХрж┐ржирзНрждрзБ `roomId` (prop) ржПржмржВ `message` (state) рж╣рж▓рзЛ **reactive values**ред

> ржХрж╛рж░ржг, ржПржЗ ржжрзБржЯрзЛ ржорж╛ржи ржмржжрж▓рж╛рж▓рзЗ component ржЖржмрж╛рж░ render рж╣рзЯред

---

### ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗрж░ ржпрзБржХрзНрждрж┐ рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн ржирзЯ

ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржпрзЗржоржи:

```js
function handleSendClick() {
  sendMessage(message);
}
```

ржПржЦрж╛ржирзЗ `message` ржПржХржЯрж╛ reactive value рж╣рж▓рзЗржУ, рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗрж░ ржХрзЛржб **reactive ржирзЯ**ред
ржорж╛ржирзЗ: `message` ржмржжрж▓рж╛рж▓рзЗржЗ `sendMessage(message)` ржЕржЯрзЛржорзЗржЯрж┐ржХ ржЪрж▓ржмрзЗ ржирж╛ред

**ржХрж╛рж░ржг?**

> ржЖржкржирж┐ ржХрзЗржмрж▓ рж▓рж┐ржЦржЫрзЗржи ржорж╛ржирзЗ ржПржЗ ржирж╛ ржпрзЗ ржЖржкржирж┐ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛рждрзЗ ржЪрж╛ржЪрзНржЫрзЗржиред

ржЖржкржирж┐ **Send ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ** ржХрж░рж▓рзЗ рждржмрзЗржЗ `sendMessage()` ржЪрж▓ржмрзЗ тАФ ржПржЯрж╛ржЗ рж╕ржарж┐ржХ ржЖржЪрж░ржгред

---

### Effect-ржПрж░ ржнрж┐рждрж░рзЗрж░ ржпрзБржХрзНрждрж┐ рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн

ржПржЦржи ржпржжрж┐ ржЖржорж░рж╛ `roomId` ржПрж░ ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржХрж╛ржирзЗржХрзНржЯ ржХрж░рждрзЗ ржЪрж╛ржЗ, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж╛ Effect-ржП рж░рж╛ржЦрж┐:

```jsx
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, [roomId]);
```

ржПржЦрж╛ржирзЗ `roomId` ржмржжрж▓рж╛рж▓рзЗржЗ Effect ржЖржмрж╛рж░ ржЪрж╛рж▓рзБ рж╣ржмрзЗред
ржПржЯрж╛ржЗ ржмрж▓рзЗ: **Effect рж╣рж▓рзЛ reactive**, ржХрж╛рж░ржг ржПржЯрж┐ reactive value (ржпрзЗржоржи `roomId`) ржПрж░ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗред

---

### ржЫрзЛржЯрзНржЯ рждрзБрж▓ржирж╛ ржЯрзЗржмрж┐рж▓:

| ржмрж┐рж╖рзЯ              | рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн? | ржХржмрзЗ ржЪрж▓рзЗ?              |
| ----------------- | ---------- | --------------------- |
| ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ | ржирж╛         | ржЗржЙржЬрж╛рж░ ржХрж┐ржЫрзБ ржХрж░рж▓рзЗржЗ      |
| ржЗржлрзЗржХрзНржЯ            | рж╣рзНржпрж╛ржБ      | ржирж┐рж░рзНржнрж░рж╢рзАрж▓ ржорж╛ржи ржмржжрж▓рж╛рж▓рзЗржЗ |

---

### ржЙржкрж╕ржВрж╣рж╛рж░:

React-ржП ржЖржкржирж╛рж░ ржпржжрж┐ ржПржоржи ржХрзЛржи ржХрж╛ржЬ ржерж╛ржХрзЗ ржпрж╛ **ржЕржмрж╕рзНржерж╛рж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрж▓рждрзЗ рж╣рзЯ** (ржпрзЗржоржи ржХрж╛ржирзЗржХрж╢ржи), рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж╛ ржЗржлрзЗржХрзНржЯрзЗ рж░рж╛ржЦрзБржиред
ржЖрж░ ржЗржЙржЬрж╛рж░ ржпрзЗржжрж┐ржи/ржпржЦржи ржХрж┐ржЫрзБ ржХрж░ржмрзЗ (ржпрзЗржоржи ржХрзНрж▓рж┐ржХ), рждржЦржи ржЪрж╛рж▓рж╛рждрзЗ ржЪрж╛ржЗрж▓рзЗ рж╕рзЗржЯрж╛ рж░рж╛ржЦрзБржи ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗред

---

ржЪрж▓рзБржи Section 2.3 ржПржХржжржо рж╕рж╣ржЬржнрж╛ржмрзЗ, ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛рзЯ рж▓рж┐ржЦрзЗ ржлрзЗрж▓рж┐ ржпрзЗржи Md. Mojnu Miah ржнрж╛ржЗ ржПржмржВ ржЕржирзНржпрж░рж╛ржУ ржПржЯрж┐ ржкрзЬрзЗ ржПржХржмрж╛рж░рзЗржЗ ржмрзБржЭрзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░рзЗржиред

---

## рзи.рзй: ржЗржлрзЗржХрзНржЯрзЗрж░ ржнрж┐рждрж░рзЗрж░ ржпрзБржХрзНрждрж┐ рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн рж╣рзЯ

ржЪрж▓рзБржи ржЖржмрж╛рж░ ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗрж░ ржжрж┐ржХрзЗ ржлрж┐рж░рзЗ ржпрж╛ржЗ:

```js
const connection = createConnection(serverUrl, roomId);
connection.connect();
```

ржПржЦржи ржкрзНрж░рж╢рзНржи рж╣рж▓рзЛ: **ржПржЗ ржХрзЛржбржЧрзБрж▓рзЛ ржХрж┐ рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн рж╣ржУрзЯрж╛ ржЙржЪрж┐ржд?**

**рж╣рзНржпрж╛ржБ, рж╣ржУрзЯрж╛ ржЙржЪрж┐рждред ржХрзЗржи?**

> ржХрж╛рж░ржг ржЗржЙржЬрж╛рж░ ржпржЦржи ржирждрзБржи `roomId` ржмрзЗржЫрзЗ ржирзЗржи, рждрж╛рж░ ржорж╛ржирзЗ рж╕рзЗ ржЪрж╛рзЯ ржирждрзБржи рж░рзБржорзЗ ржХрж╛ржирзЗржХрзНржЯ рж╣рждрзЗред
> рждрж╛ржЗ ржПржЗ ржХрж╛ржирзЗржХрж╢ржирзЗрж░ ржХрзЛржбржЯрж╛ ржЕржЯрзЛржорзЗржЯрж┐ржХржнрж╛ржмрзЗ ржЖржмрж╛рж░ ржЪрж▓рж╛ ржжрж░ржХрж╛рж░ тАФ ржпрждржмрж╛рж░ `roomId` ржмржжрж▓рж╛рзЯред

ржП ржХрж╛рж░ржгрзЗржЗ ржЖржорж░рж╛ ржПржЗ ржХрзЛржбржЯрж╛ ржЗржлрзЗржХрзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ рж░рж╛ржЦрж┐:

```js
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => {
    connection.disconnect();
  };
}, [roomId]);
```

ржПржЦрж╛ржирзЗ ржХрзА рж╣ржЪрзНржЫрзЗ?

- ржпржЦржи `roomId` ржмржжрж▓рж╛ржмрзЗ, рждржЦржи ржПржЗ ржЗржлрзЗржХрзНржЯ ржЖржмрж╛рж░ ржЪрж▓ржмрзЗред
- ржЖржЧрзЗрж░ ржХрж╛ржирзЗржХрж╢ржи ржбрж┐рж╕ржХрж╛ржирзЗржХрзНржЯ рж╣рзЯрзЗ ржпрж╛ржмрзЗред
- ржирждрзБржи рж░рзБржорзЗ ржХрж╛ржирзЗржХрзНржЯ рж╣ржмрзЗред

ржПржнрж╛ржмрзЗржЗ ржЗржлрзЗржХрзНржЯ **reactive value** ржПрж░ рж╕ржЩрзНржЧрзЗ "рж╕рж┐ржЩрзНржХ" ржерж╛ржХрзЗред React ржирж┐ржЬрзЗржЗ ржПржЗ ржЖржкржбрзЗржЯржЯрж╛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзЗред

---

### рж╕ржВржХрзНрж╖рзЗржкрзЗ ржмрж▓рж╛ ржпрж╛рзЯ:

| ржХрзЛржб ржХрзЛржерж╛рзЯ                     | рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн? | ржХржЦржи ржЪрж▓рзЗ                               |
| ----------------------------- | ---------- | ------------------------------------- |
| `useEffect`                   | тЬЕ рж╣рзНржпрж╛ржБ   | ржирж┐рж░рзНржнрж░рж╢рзАрж▓ ржорж╛ржи (ржпрзЗржоржи `roomId`) ржмржжрж▓рж╛рж▓рзЗржЗ |
| `handleClick` (event handler) | тЭМ ржирж╛      | рж╢рзБржзрзБ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ                       |

---

### ржмрж╛рж╕рзНрждржм ржЬрзАржмржи ржЙржжрж╛рж╣рж░ржг:

ржзрж░рзБржи ржЖржкржирж┐ ржПржХржЯрж╛ рж▓рж╛ржЗржн ржЪрзНржпрж╛ржЯ ржЕрзНржпрж╛ржкрзЗ ржЖржЫрзЗржиред ржЖржкржирж┐ Room-1 ржерзЗржХрзЗ Room-2 рждрзЗ ржЧрзЗрж▓рзЗржиред

- ржпржжрж┐ ржЗржлрзЗржХрзНржЯ ржирж╛ ржерж╛ржХржд, рждрж╛рж╣рж▓рзЗ ржЖржкржирж┐ Room-2 рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзЗржУ Room-1 ржПржЗ ржерж╛ржХрждрзЗржи!
- ржХрж┐ржирзНрждрзБ ржЗржлрзЗржХрзНржЯ ржерж╛ржХрж╛рж░ ржХрж╛рж░ржгрзЗ React ржмрзБржЭрзЗ ржирзЗрзЯ:

  > "ржЖржЪрзНржЫрж╛, `roomId` рждрзЛ ржмржжрж▓рзЗржЫрзЗ, рждрж╛рж╣рж▓рзЗ ржирждрзБржи ржХрж╛ржирзЗржХрж╢ржи ржжрж░ржХрж╛рж░ред"

---

ржЪрж▓рзБржи ржПржЦржи Section 3 рж╕рж╣ржЬ ржУ рж╕рзНржмрж╛ржнрж╛ржмрж┐ржХ ржмрж╛ржВрж▓рж╛рзЯ рж▓рж┐ржЦрзЗ ржлрзЗрж▓рж┐ ржпрж╛рждрзЗ рждрзБржорж┐ ржПржмржВ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржпрзЗ ржХрзЗржЙ рж╕рж╣ржЬрзЗржЗ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗред

---

## рзй. рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн ржЗржлрзЗржХрзНржЯ ржерзЗржХрзЗ ржиржи-рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн ржпрзБржХрзНрждрж┐ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛

React ржПрж░ ржЗржлрзЗржХрзНржЯрзЗ ржЖржорж░рж╛ рж╕рж╛ржзрж╛рж░ржгржд **reactive logic** рж░рж╛ржЦрж┐ тАФ ржпрзЗржоржи `roomId` ржмржжрж▓рж╛рж▓рзЗ ржХрж╛ржирзЗржХрж╢ржи ржЪрзЗржЮрзНржЬ ржХрж░рж╛ред ржХрж┐ржирзНрждрзБ ржЕржирзЗржХ рж╕ржорзЯ ржЖржорж╛ржжрзЗрж░ ржкрзНрж░рзЯрзЛржЬржи ржкрзЬрзЗ **non-reactive logic** рж░рж╛ржЦрж╛рж░, ржпрзЗржоржи:

> ржЗржЙржЬрж╛рж░ ржЪрзНржпрж╛ржЯрзЗ ржХрж╛ржирзЗржХрзНржЯ рж╣рж▓рзЗ ржПржХржЯрж╛ _notification_ ржжрзЗржЦрж╛ржирзЛ, ржпрж╛рж░ ржХрж╛рж▓рж╛рж░ рж╣ржмрзЗ ржерж┐ржо ржЕржирзБржпрж╛рзЯрзАред

### ЁЯзк ржЙржжрж╛рж╣рж░ржг ржжрзЗржЦрж┐:

```js
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.on("connected", () => {
    showNotification("Connected!", theme);
  });
  connection.connect();
  return () => {
    connection.disconnect();
  };
}, [roomId, theme]); // тЬЕ
```

ржПржЦрж╛ржирзЗ `theme` ржПржХржЯрж╛ reactive ржорж╛ржи, ржХрж╛рж░ржг ржПржЯрж┐ ржЗржЙржЬрж╛рж░ ржЗржирзНржЯрж╛рж░тАМрзНржпрж╛ржХрж╢ржирзЗрж░ ржлрж▓рзЗ ржкрж░рж┐ржмрж░рзНрждржи рж╣рждрзЗ ржкрж╛рж░рзЗред рждрж╛ржЗ `theme` ржХрзЗ dependency рж▓рж┐рж╕рзНржЯрзЗ рж░рж╛ржЦрж╛ ржжрж░ржХрж╛рж░ тАФ ржирж╛ рж░рж╛ржЦрж▓рзЗ React ржУрзЯрж╛рж░рзНржирж┐ржВ ржжрж┐ржмрзЗред

---

### ЁЯОп рж╕ржорж╕рзНржпрж╛ ржХрзЛржерж╛рзЯ?

`theme` ржмржжрж▓рж╛рж▓рзЗржЗ ржЗржлрзЗржХрзНржЯ ржЖржмрж╛рж░ ржЪрж▓рзЗ тАФ
**ржПржмржВ ржкрзБрж░рзЛ ржЪрзНржпрж╛ржЯ ржХрж╛ржирзЗржХрж╢ржи ржЖржмрж╛рж░ рждрзИрж░рж┐ рж╣рзЯ!**

тЮбя╕П рж╢рзБржзрзБ `theme` ржмржжрж▓рж╛ржирзЛрж░ ржХрж╛рж░ржгрзЗ `createConnection` ржПржмржВ `connect()` ржЖржмрж╛рж░ ржЪрж▓рж╛ ржПржХрзЗржмрж╛рж░рзЗржЗ ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ!

> ржЖржорж░рж╛ ржЪрж╛ржЪрзНржЫрж┐ рж╢рзБржзрзБ notification-ржПрж░ ржХрж╛рж▓рж╛рж░ ржмржжрж▓рж╛рждрзЗ тАФ ржХрж┐ржирзНрждрзБ ржЪрзНржпрж╛ржЯ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржЖржмрж╛рж░ ржХрж╛ржирзЗржХрзНржЯ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред

ржПржЯрж╛ржЗ рж╕ржорж╕рзНржпрж╛ред

---

### ЁЯФе ржорзВрж▓ ржкрзЯрзЗржирзНржЯ:

ржирж┐ржЪрзЗрж░ ржПржЗ рж▓рж╛ржЗржиржЯрж╛ **reactive ржирж╛ рж╣рж▓рзЗржУ** `useEffect` ржПрж░ ржнрж┐рждрж░ ржерж╛ржХрж╛рж░ ржХрж╛рж░ржгрзЗ ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯржнрж╛ржмрзЗ ржмрж╛рж░ржмрж╛рж░ ржЪрж▓рзЗ:

```js
showNotification("Connected!", theme);
```

---

### ЁЯЫая╕П рж╕ржорж╛ржзрж╛ржи ржХрзА?

ржЖржорж╛ржжрзЗрж░ ржкрзНрж░рзЯрзЛржЬржи `useEffect` ржПрж░ ржнрж┐рждрж░ ржерзЗржХрзЗ `theme`-рж╕ржорзНржкрж░рзНржХрж┐ржд notification-logic ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржлрзЗрж▓рж╛ тАФ ржпрж╛рждрзЗ `theme` ржмржжрж▓рж╛рж▓рзЗржУ ржЪрзНржпрж╛ржЯ ржХрж╛ржирзЗржХрж╢ржи ржнрж╛ржЩрж╛ ржирж╛ ржкрзЬрзЗред

ржПржмржВ ржПрж░ ржЬржирзНржп ржЖржорж░рж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм:

- **ржирждрзБржи `useEffect`** рж╢рзБржзрзБржорж╛рждрзНрж░ notification ржПрж░ ржЬржирзНржп
- ржЕржержмрж╛ `useRef` + callback pattern

ржПржЗ ржЕржВрж╢ржЯрж╛ ржЖржорж░рж╛ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржм ржкрж░рзЗрж░ рж╕рзЗржХрж╢ржирзЗред

---

### ЁЯза рж╕ржВржХрзНрж╖рзЗржкрзЗ ржоржирзЗ рж░рж╛ржЦрзЛ:

| ржХрж┐ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ         | ржХрзЛржерж╛рзЯ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ          | ржХржЦржи ржЪрж▓ржмрзЗ             |
| -------------------- | ------------------------ | -------------------- |
| `createConnection()` | рж░рж┐рзЯрж╛ржХрзНржЯрж┐ржн ржЗржлрзЗржХрзНржЯ         | ржпржЦржи `roomId` ржмржжрж▓рж╛рзЯ   |
| `showNotification()` | ржЖрж▓рж╛ржжрж╛ ржЗржлрзЗржХрзНржЯ ржмрж╛ callback | ржпржЦржи ржЪрзНржпрж╛ржЯ ржХрж╛ржирзЗржХрзНржЯ рж╣рзЯ |

**ржкрж░ржмрж░рзНрждрзА рж╕рзЗржХрж╢ржи рзй.рзз**-ржП ржЖржорж░рж╛ ржжрзЗржЦржм ржХрзАржнрж╛ржмрзЗ ржЗржлрзЗржХрзНржЯрзЗрж░ ржнрж┐рждрж░ ржерж╛ржХрж╛ ржПржЗ "non-reactive logic" ржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж░рж╛ржЦрж╛ ржпрж╛рзЯ тАФ ржпрж╛рждрзЗ ржЗржЙржЬрж╛рж░рзЗрж░ ржПржХрж╢ржирзЗ ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржЬрж┐ржирж┐рж╕ржЧрзБрж▓рзЛ ржЖржмрж╛рж░ ржирж╛ ржЪрж▓рзЗред

ржЪржорзОржХрж╛рж░! ржПржЦржи ржЖржорж░рж╛ Section 3.1 ржПрж░ ржЬржирзНржп **ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛рзЯ рж╕рж╣ржЬ ржУ рж╢рж┐ржХрзНрж╖ржгрзАрзЯржнрж╛ржмрзЗ** рж▓рзЗржЦрж╛ржЯрж┐ рж╕рж╛ржЬрж┐рзЯрзЗ ржирж┐ржЗ ржпрзЗржи React рж╢рзЗржЦрж╛рж░ рж╕ржорзЯ ржирждрзБржирж░рж╛ ржмрж┐рж╖рзЯржЯрж╛ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗред

---

## Section 3.1: ржЗржлрзЗржХрзНржЯ ржЗржнрзЗржирзНржЯ ржбрж┐ржХрзНрж▓рзЗрзЯрж╛рж░ ржХрж░рж╛

> тЪая╕П ржПржЗ рж╕рзЗржХрж╢ржирзЗ ржпрзЗржЗ API ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ рж╕рзЗржЯрж┐ **React-ржПрж░ experimental API**, ржЕрж░рзНржерж╛рзО ржПржЯрж┐ ржПржЦржиржУ рж╕рзНржерж╛рзЯрзАржнрж╛ржмрзЗ рж░рж┐рж▓рж┐ржЬ рж╣рзЯржирж┐ред

React-ржП ржЕржирзЗржХ рж╕ржорзЯ `useEffect` рж╣рзБржХрзЗрж░ ржоржзрзНржпрзЗ ржПржоржи ржХрж┐ржЫрзБ ржХрзЛржб рж░рж╛ржЦрждрзЗ рж╣рзЯ ржпрзЗржЯрж╛ React-ржПрж░ рж░рж┐ржЕрзНржпрж╛ржХрзНржЯрж┐ржнрж┐ржЯрж┐рж░ (reactivity) ржЕржВрж╢ ржирзЯ тАФ ржЕрж░рзНржерж╛рзО, рж╕рзЗржЯрж╛ props ржмрж╛ state ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржХрж╛рж░ржгрзЗ ржмрж╛рж░ржмрж╛рж░ ржЪрж▓рж╛ ржЙржЪрж┐ржд ржирж╛ред

ржПржЗ ржзрж░ржирзЗрж░ "non-reactive" ржХрж╛ржЬржХрзЗ ржЗржлрзЗржХрзНржЯ ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рждрзЗ `useEffectEvent` ржирж╛ржорзЗрж░ ржПржХржЯрж┐ ржмрж┐рж╢рзЗрж╖ рж╣рзБржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг ржжрзЗржЦрж┐:

```js
import { useEffect, useEffectEvent } from "react";

function ChatRoom({ roomId, theme }) {
  const onConnected = useEffectEvent(() => {
    showNotification("Connected!", theme);
  });
  // ...
}
```

ржПржЦрж╛ржирзЗ `onConnected` рж╣ржЪрзНржЫрзЗ ржПржХржЯрж┐ _Effect Event_ред ржПржЯрж┐ `useEffect` рж╣рзБржХрзЗрж░ ржмрж╛ржЗрж░рзЗ ржерж╛ржХрзЗ, ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ ржПржЯрж┐ржХрзЗ ржЗржлрзЗржХрзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ ржХрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПрж░ ржнрж┐рждрж░рзЗрж░ ржХрзЛржб рж░рж┐ржЕрзНржпрж╛ржХрзНржЯрж┐ржн ржирж╛ тАФ ржорж╛ржирзЗ ржПржЯрж┐ ржмрж╛рж░ржмрж╛рж░ ржЪрж▓ржмрзЗ ржирж╛ ржПржмржВ рж╕ржмрж╕ржорзЯ **рж╕рж░рзНржмрж╢рзЗрж╖** `theme` ржмрж╛ `props/state` ржПрж░ ржорж╛ржи ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗред

---

### тЬЕ ржПржЦржи ржПржЯрж┐ ржЗржлрзЗржХрзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ ржХрж▓ ржХрж░рж┐:

```js
function ChatRoom({ roomId, theme }) {
  const onConnected = useEffectEvent(() => {
    showNotification("Connected!", theme);
  });

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on("connected", () => {
      onConnected();
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]); // тЪая╕П ржПржЦрж╛ржирзЗ onConnected ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐рждрзЗ ржжрзЗрзЯрж╛ рж▓рж╛ржЧржмрзЗ ржирж╛
}
```

> **ржоржирзЗ рж░рж╛ржЦрзБржи**: `useEffectEvent` ржжрж┐рзЯрзЗ рждрзИрж░рж┐ ржЗржлрзЗржХрзНржЯ ржЗржнрзЗржирзНржЯржЧрзБрж▓рзЛ **reactive dependency list**-ржП рж░рж╛ржЦрж╛ рж╣рзЯ ржирж╛ред

---

ржЕржмрж╢рзНржпржЗ, ржирж┐ржЪрзЗ Section 3.1 ржП ржпрзЗрж╕ржм ржлрж┐ржЪрж╛рж░ ржЪрж╛ржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ ржмрж╛ ржпрзЗржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗ рждрж╛ рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ рж╕рж┐рж░рж┐рзЯрж╛рж▓ ржиржорзНржмрж░ ржжрж┐рзЯрзЗ рж▓рж┐ржЦрзЗ ржжрж┐рж▓рж╛ржо:

---

### тЬЕ Section 3.1-ржП ржЪрж╛ржУрзЯрж╛ ржлрж┐ржЪрж╛рж░ржЧрзБрж▓рзЛрж░ рждрж╛рж▓рж┐ржХрж╛:

рззред **ржирждрзБржи рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржХрж╛ржирзЗржХрзНржЯ рж╣рж▓рзЗ ржПржХржЯрж┐ ржиржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржжрзЗржЦрж╛ржмрзЗ**,
тАГтАГЁЯФ╕ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржЯрзЗржХрзНрж╕ржЯ рж╣ржмрзЗ: `Connected!`
тАГтАГЁЯФ╕ ржерж┐ржо ржпржжрж┐ ржбрж╛рж░рзНржХ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржХрж╛рж▓рзЛ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ рж╕рж╛ржжрж╛ рж▓рзЗржЦрж╛рзЯ ржжрзЗржЦрж╛ржмрзЗ,
тАГтАГЁЯФ╕ ржерж┐ржо ржпржжрж┐ рж▓рж╛ржЗржЯ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ рж╕рж╛ржжрж╛ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржХрж╛рж▓рзЛ рж▓рзЗржЦрж╛рзЯ ржжрзЗржЦрж╛ржмрзЗред

рзиред **ржирждрзБржи ржХрзЛржирзЛ рж░рзБржорзЗ ржврзБржХрж▓рзЗ (roomId ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ)**
тАГтАГЁЯФ╕ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржирждрзБржи ржХрж░рзЗ ржХрж╛ржирзЗржХрж╢ржи рждрзИрж░рж┐ рж╣ржмрзЗред
тАГтАГЁЯФ╕ ржХрж╛ржирзЗржХрж╢ржи рж╕ржлрж▓ рж╣рж▓рзЗ ржЖржмрж╛рж░ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржжрзЗржЦрж╛ржмрзЗред

рзйред **ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржп `showNotification()` ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗред**
тАГтАГЁЯФ╕ ржПржЯрж┐ `Toastify-js` ржжрж┐рзЯрзЗ рждрзИрж░рж┐ ржХрж░рж╛ред

рзкред **`theme` ржПрж░ ржмрж░рзНрждржорж╛ржи ржорж╛ржи рж╕ржмрж╕ржорзЯ ржарж┐ржХржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ рж╣ржмрзЗ**,
тАГтАГЁЯФ╕ ржХрж╛рж░ржг ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржлрж╛ржВрж╢ржиржЯрж┐ `useEffectEvent` ржжрж┐рзЯрзЗ рждрзИрж░рж┐, рждрж╛ржЗ ржПржЯрж╛ ржкрзНрж░рждрж┐ржмрж╛рж░ ржЖржкржбрзЗржЯрзЗржб `theme` ржкрж╛рзЯред

рзлред **ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржжрзЗржЦрж╛ржирзЛ ржлрж╛ржВрж╢ржиржЯрж┐ `useEffect` ржПрж░ ржнрж┐рждрж░рзЗ ржирж╛ рж░рзЗржЦрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ**
тАГтАГЁЯФ╕ ржХрж╛рж░ржг ржПрждрзЗ ржХрж░рзЗ `useEffect` ржПрж░ dependency list ржХржорзЗ ржЧрзЗржЫрзЗ ржПржмржВ ржХрзЛржб ржкрж░рж┐рж╖рзНржХрж╛рж░ рж╣рзЯрзЗржЫрзЗред
тАГтАГЁЯФ╕ ржПржЗ ржЖрж▓рж╛ржжрж╛ ржлрж╛ржВрж╢ржиржХрзЗ ржмрж▓рж╛ рж╣рзЯ **Effect Event**ред

рзмред **Effect Event ржХрзЗ `useEffect` ржПрж░ dependency list-ржП ржжрзЗржУрзЯрж╛ рж▓рж╛ржЧржмрзЗ ржирж╛**,
тАГтАГЁЯФ╕ ржХрж╛рж░ржг ржПржЯрж┐ рж░рж┐ржЕрзНржпрж╛ржХрзНржЯрж┐ржн ржирж╛ тАФ ржмрж░ржВ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗрж░ ржорждрзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

рзнред **ржПржХржЯрж╛ ржбрзНрж░ржкржбрж╛ржЙржи ржерзЗржХрзЗ ржЪрзНржпрж╛ржЯ рж░рзБржо рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рж╛ ржпрж╛ржмрзЗ** (e.g., general, travel, music)ред
тАГтАГЁЯФ╕ рж░рзБржо ржЪрзЗржЮрзНржЬ ржХрж░рж▓рзЗржЗ ржХрж╛ржирзЗржХрж╢ржи рж░рж┐-ржЗржирж┐рж╢рж┐рзЯрзЗржЯ рж╣ржмрзЗ ржПржмржВ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржжрзЗржЦрж╛ржмрзЗред

рзоред **ржПржХржЯрж┐ ржЪрзЗржХржмржХрзНрж╕ ржжрж┐рзЯрзЗ ржерж┐ржо ржЪрзЗржЮрзНржЬ ржХрж░рж╛ ржпрж╛ржмрзЗ (ржбрж╛рж░рзНржХ/рж▓рж╛ржЗржЯ)**
тАГтАГЁЯФ╕ ржЪрзЗржЮрзНржЬ ржХрж░рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗржЗ ржкрж░ржмрж░рзНрждрзА ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржирзЗ ржерж┐ржо ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржкрзНрж░ржнрж╛ржм ржжрзЗржЦрж╛ ржпрж╛ржмрзЗред

---

### ЁЯОм ржкрзВрж░рзНржг ржЙржжрж╛рж╣рж░ржг (рж▓рж╛ржЗржн ржбрзЗржорзЛ):

ржПржЗ ржХрзЛржбржЯрж┐рждрзЗ `ChatRoom` ржХржорзНржкрзЛржирзЗржирзНржЯ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржХрж╛ржирзЗржХрзНржЯ ржХрж░рзЗ, ржХрж╛ржирзЗржХрж╢ржи рж╕ржлрж▓ рж╣рж▓рзЗ `showNotification` ржлрж╛ржВрж╢ржирзЗрж░ ржорж╛ржзрзНржпржорзЗ ржПржХржЯрж┐ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржжрзЗржЦрж╛рзЯред

ЁЯУж ржкрзНржпрж╛ржХрзЗржЬ ржЗржиржлрзЛ:

```json
{
  "react": "experimental",
  "toastify-js": "1.12.0"
}
```

ЁЯза ржорзВрж▓ ржЕржВрж╢:

```js
import { useState, useEffect } from "react";
import { experimental_useEffectEvent as useEffectEvent } from "react";
import { createConnection } from "./chat.js";
import { showNotification } from "./notifications.js";

const serverUrl = "https://localhost:1234";

function ChatRoom({ roomId, theme }) {
  const onConnected = useEffectEvent(() => {
    showNotification("Connected!", theme);
  });

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on("connected", () => {
      onConnected();
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);

  return <h1>Welcome to the {roomId} room!</h1>;
}
```

ЁЯСе `App` ржХржорзНржкрзЛржирзЗржирзНржЯ ржпрзЗржЦрж╛ржирзЗ рж░рзБржо ржПржмржВ ржерж┐ржо ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рж╛ ржпрж╛рзЯ:

```js
export default function App() {
  const [roomId, setRoomId] = useState("general");
  const [isDark, setIsDark] = useState(false);

  return (
    <>
      <label>
        Choose the chat room:{" "}
        <select value={roomId} onChange={(e) => setRoomId(e.target.value)}>
          <option value="general">general</option>
          <option value="travel">travel</option>
          <option value="music">music</option>
        </select>
      </label>
      <label>
        <input
          type="checkbox"
          checked={isDark}
          onChange={(e) => setIsDark(e.target.checked)}
        />
        Use dark theme
      </label>
      <hr />
      <ChatRoom roomId={roomId} theme={isDark ? "dark" : "light"} />
    </>
  );
}
```

ЁЯУж `showNotification` ржлрж╛ржВрж╢ржи:

```js
import Toastify from "toastify-js";
import "toastify-js/src/toastify.css";

export function showNotification(message, theme) {
  Toastify({
    text: message,
    duration: 2000,
    gravity: "top",
    position: "right",
    style: {
      background: theme === "dark" ? "black" : "white",
      color: theme === "dark" ? "white" : "black",
    },
  }).showToast();
}
```

---

### ЁЯза рж╕ржВржХрзНрж╖рзЗржкрзЗ ржмрзБржЭрж┐:

| ржмрж┐рж╖рзЯ             | ржмрзНржпрж╛ржЦрзНржпрж╛                                                    |
| ---------------- | ----------------------------------------------------------- |
| `useEffectEvent` | React-ржПрж░ experimental Hook, non-reactive ржХрзЛржбрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд |
| ржЗржлрзЗржХрзНржЯ ржЗржнрзЗржирзНржЯ    | event handler ржПрж░ ржоржд ржЖржЪрж░ржг ржХрж░рзЗ, ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ ржирж┐ржЬрзЗржЗ ржХрж▓ ржХрж░рзЗржи     |
| dependency list  | ржПрждрзЗ `onConnected` ржПрж░ ржоржд ржЗржлрзЗржХрзНржЯ ржЗржнрзЗржирзНржЯ ржпрзЛржЧ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛       |

---

**ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ:** ржЖржорж░рж╛ ржжрзЗржЦржмрзЛ ржХрзАржнрж╛ржмрзЗ ржПржЗ `useEffectEvent` ржЖржорж╛ржжрзЗрж░ ржЖрж░ржУ ржЬржЯрж┐рж▓ ржЗржлрзЗржХрзНржЯ ржЧрзБрж▓рзЛржХрзЗ ржХрзНрж▓рж┐ржи ржПржмржВ ржмрж╛ржЧ-ржорзБржХрзНржд рж░рж╛ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

---

ржЪржорзОржХрж╛рж░! ржПржЦржи ржЖржорж░рж╛ рждрзЛржорж╛рж░ React ржмржЗрзЯрзЗрж░ **Section 3.2: Effect Event ржжрж┐рзЯрзЗ Props ржПржмржВ State ржкрзЬрж╛** ржЕржВрж╢ржЯрж┐ ржмрж╛ржВрж▓рж╛рзЯ рж▓рж┐ржЦрзЗ ржирж┐ржЪрзНржЫрж┐, ржпрж╛рждрзЗ ржПржЯрж╛ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗрж░ ржорждрзЛ ржкрж░рж┐рж╖рзНржХрж╛рж░, ржкрзНрж░рж╛ржЮрзНржЬрж▓ ржПржмржВ ржкрзНрж░рзНржпрж╛ржХрзНржЯрж┐ржХрж╛рж▓ ржЙржжрж╛рж╣рж░ржгрзЗ рж╕ржорзГржжрзНржз рж╣рзЯред

---

## рж╕рзЗржХрж╢ржи рзй.рзи: ржЗржлрзЗржХрзНржЯ ржЗржнрзЗржирзНржЯ ржжрж┐рзЯрзЗ Props ржУ State-ржПрж░ рж╕рж░рзНржмрж╢рзЗрж╖ ржорж╛ржи ржкрзЬрж╛

> тЪая╕П ржПржЗ рж╕рзЗржХрж╢ржирзЗ ржпрж╛ рж╢рж┐ржЦржмрзЗржи, рждрж╛ **React-ржПрж░ ржПржХржЯрж┐ Experimental (ржкрж░рзАржХрзНрж╖рж╛ржорзВрж▓ржХ) API** ржирж┐рзЯрзЗ, ржпрзЗржЯрж┐ ржПржЦржирзЛ рж╕рзНржерж╛рзЯрзАржнрж╛ржмрзЗ рж░рж┐рж▓рж┐ржЬ рж╣рзЯржирж┐ред

React-ржПрж░ ржирждрзБржи `useEffectEvent` рж╣рзБржХ ржЖржкржирж╛ржХрзЗ ржПржоржи ржЕржирзЗржХ рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорж╛ржзрж╛ржи ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗ ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ рж╣рзЯрждрзЛ `useEffect`-ржПрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ рж▓рж┐ржирзНржЯрж╛рж░ржХрзЗ ржЪрзЗржкрзЗ ржпрзЗрждрзЗ ржЪрж╛ржЗрждрзЗржиред

### рж╕ржорж╕рзНржпрж╛ рж╢рзБрж░рзБ рж╣рзЯ ржпрзЗржнрж╛ржмрзЗ

ржзрж░рзБржи, ржЖржкржирж┐ `useEffect` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржкрзЗржЬ ржнрж┐ржЬрж┐ржЯ рж▓ржЧ ржХрж░ржЫрзЗржи:

```js
function Page() {
  useEffect(() => {
    logVisit();
  }, []);
}
```

ржкрж░рзЗ ржЖржкржирж┐ рж░рж╛ржЙржЯрж┐ржВ ржпрзБржХрзНржд ржХрж░рж▓рзЗржи, ржПржмржВ `Page` ржХржорзНржкрзЛржирзЗржирзНржЯ ржПржЦржи `url` ржирж╛ржорзЗрж░ ржПржХржЯрж┐ ржкрзНрж░ржкрзНрж╕ ржкрж╛ржЪрзНржЫрзЗред ржЖржкржирж┐ `url` рж▓ржЧ ржХрж░рждрзЗ ржЪрж╛ржи:

```js
function Page({ url }) {
  useEffect(() => {
    logVisit(url);
  }, []); // ЁЯФ┤ ржорж┐рж╕рж┐ржВ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐: url
}
```

ржПржЦрж╛ржирзЗ `url` ржЫрж╛рзЬрж╛ ржжрж┐рж▓рзЗ React рж▓рж┐ржирзНржЯрж╛рж░ рж╕рждрж░рзНржХ ржХрж░ржмрзЗред ржХрзЗржи? ржХрж╛рж░ржг ржЖржкржирж┐ `url` ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗржи, ржХрж┐ржирзНрждрзБ `useEffect`-ржПрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ рж▓рж┐рж╕рзНржЯрзЗ ржжрзЗржиржирж┐ред

рж╕ржарж┐ржХ рж╕ржорж╛ржзрж╛ржи рж╣ржмрзЗ:

```js
function Page({ url }) {
  useEffect(() => {
    logVisit(url);
  }, [url]); // тЬЕ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржарж┐ржХржарж╛ржХ
}
```

### ржЖрж░рзЗржХржЯрзБ ржЬржЯрж┐рж▓ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг

ржПржмрж╛рж░ ржЖржкржирж┐ ржЪрж╛ржи `logVisit`-ржПрж░ рж╕ржЩрзНржЧрзЗ рж╢ржкрж┐ржВ ржХрж╛рж░рзНржЯрзЗ ржХрзЯржЯрж┐ ржЖржЗржЯрзЗржо ржЖржЫрзЗ рж╕рзЗржЯрж╛ржУ ржкрж╛ржарж╛рждрзЗ:

```js
function Page({ url }) {
  const { items } = useContext(ShoppingCartContext);
  const numberOfItems = items.length;

  useEffect(() => {
    logVisit(url, numberOfItems);
  }, [url]); // ЁЯФ┤ рж▓рж┐ржирзНржЯрж╛рж░ ржмрж▓ржмрзЗ: numberOfItems ржорж┐рж╕рж┐ржВ
}
```

ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ ржЪрж╛ржи ржирж╛ `numberOfItems` ржмржжрж▓рж╛рж▓рзЗ `logVisit` ржЖржмрж╛рж░ ржХрж▓ рж╣рзЛржХред ржХрж╛рж░ржг, ржЗржЙржЬрж╛рж░ ржпржжрж┐ ржХрж╛рж░рзНржЯрзЗ ржХрж┐ржЫрзБ ржпрзЛржЧ ржХрж░рзЗ, ржПржЯрж╛ ржирждрзБржи ржнрж┐ржЬрж┐ржЯ ржирзЯред

### рж╕ржорж╛ржзрж╛ржи: `useEffectEvent`

ржПржЗ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржирзЗрж░ ржЬржирзНржп ржЖржорж░рж╛ `useEffectEvent` ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм:

```js
function Page({ url }) {
  const { items } = useContext(ShoppingCartContext);
  const numberOfItems = items.length;

  const onVisit = useEffectEvent((visitedUrl) => {
    logVisit(visitedUrl, numberOfItems);
  });

  useEffect(() => {
    onVisit(url);
  }, [url]); // тЬЕ рж╢рзБржзрзБржорж╛рждрзНрж░ url ржмржжрж▓рж╛рж▓рзЗ рж▓ржЧ рж╣ржмрзЗ
}
```

ржПржЦрж╛ржирзЗ ржпрж╛ ржШржЯржЫрзЗ:

- `onVisit` рж╣рж▓рзЛ ржПржХржЯрж┐ ржЗржлрзЗржХрзНржЯ ржЗржнрзЗржирзНржЯред
- ржПрж░ ржнрзЗрждрж░рзЗ ржЖржкржирж┐ `numberOfItems` ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗржи, ржХрж┐ржирзНрждрзБ ржПржЯрж╛ **reactive ржирзЯ**, ржорж╛ржирзЗ ржПрж░ ржмржжрж▓ ржЗржлрзЗржХрзНржЯ рж░рж┐рж░рж╛ржи ржХрж░рж╛ржмрзЗ ржирж╛ред
- ржмрж╛ржЗрж░рзЗрж░ `useEffect` рж╢рзБржзрзБ `url`-ржПрж░ ржЙржкрж░ рж░рж┐ржПржХрзНржЯрж┐ржн, рждрж╛ржЗ ржкрзНрж░рждрж┐ржмрж╛рж░ ржирждрзБржи ржкрзЗржЬрзЗ ржПрж▓рзЗ `onVisit(url)` ржХрж▓ рж╣ржмрзЗред

### тЬЕ ржХрзЗржи `url` ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржжрж┐рзЯрзЗ ржкрж╛ржарж╛ржирзЛ ржнрж╛рж▓рзЛ?

ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ `onVisit()` ржПрж░ ржнрж┐рждрж░ ржерзЗржХрзЗржЗ `url` ржкрзЬрждрзЗ ржкрж╛рж░рждрзЗржи:

```js
const onVisit = useEffectEvent(() => {
  logVisit(url, numberOfItems);
});

useEffect(() => {
  onVisit();
}, [url]);
```

ржХрж┐ржирзНрждрзБ ржПржЯрж╛ рж╕рзНржкрж╖рзНржЯ ржирзЯ ржпрзЗ ржХрзЛржи `url` рж▓ржЧ рж╣ржЪрзНржЫрзЗред рждрж╛ржЗ ржПржЯрж╛ ржЖрж░ржУ ржкрж░рж┐рж╖рзНржХрж╛рж░ржнрж╛ржмрзЗ рж▓рзЗржЦрж╛ржЗ ржнрж╛рж▓рзЛ:

```js
const onVisit = useEffectEvent((visitedUrl) => {
  logVisit(visitedUrl, numberOfItems);
});

useEffect(() => {
  onVisit(url);
}, [url]);
```

ржПрждрзЗ `url` ржЗржнрзЗржирзНржЯрзЗрж░ ржПржХржЯрж┐ ржЕржВрж╢ рж╣рж┐рж╕рзЗржмрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ, ржПржмржВ ржЖржкржирж┐ ржнрзБрж▓ ржХрж░рзЗ `url` ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржмрж╛ржж ржжрж┐рж▓рзЗ рж▓рж┐ржирзНржЯрж╛рж░ рж╕рзЗржЯрж╛ ржзрж░ржмрзЗред

### ЁЯХТ ржЕрзНржпрж╛рж╕рж┐ржиржХрзНрж░рзЛржирж╛рж╕ (ржжрзЗрж░рж┐рждрзЗ ржШржЯрзЗ ржПржоржи) рж▓ржЬрж┐ржХрзЗржУ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗ

```js
useEffect(() => {
  setTimeout(() => {
    onVisit(url);
  }, 5000); // рзл рж╕рзЗржХрзЗржирзНржб ржкрж░рзЗ рж▓ржЧ
}, [url]);
```

ржПржЦрж╛ржирзЗ `url` ржмржжрж▓рж╛рж▓рзЗржУ onVisit-ржПрж░ ржоржзрзНржпрзЗ `visitedUrl` ржорж╛ржирзЗ рж╕рзЗржЗ рж╕ржорзЯржХрж╛рж░ ржарж┐ржХ `url`-ржЯрж╛ ржзрж░ржмрзЗред ржПржЯрж╛ `useEffectEvent` ржПрж░ рж╢ржХрзНрждрж┐ред

---

## ЁЯЪл ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ рж▓рж┐ржирзНржЯрж╛рж░ рж╕рж╛ржкрзНрж░рзЗрж╕ (ржЪрзЗржкрзЗ) ржХрж░рж╛ ржЙржЪрж┐ржд ржирзЯ

ржЕржирзЗржХ ржХрзЛржбржмрзЗрж╕рзЗ ржжрзЗржЦрж╛ ржпрж╛рзЯ, ржПрж░ржХржо рж▓рзЗржЦрж╛ рж╣рзЯ:

```js
useEffect(() => {
  logVisit(url, numberOfItems);
  // eslint-disable-next-line react-hooks/exhaustive-deps
}, [url]);
```

ржПрждрзЗ рж╕ржорж╕рзНржпрж╛рж░ рж╢рзБрж░рзБ рж╣рзЯред ржпрзЗржоржи ржзрж░рзБржи ржирж┐ржЪрзЗрж░ ржХрзЛржбрзЗ:

```js
function handleMove(e) {
  if (canMove) {
    setPosition({ x: e.clientX, y: e.clientY });
  }
}

useEffect(() => {
  window.addEventListener("pointermove", handleMove);
  return () => window.removeEventListener("pointermove", handleMove);
  // eslint-disable-next-line react-hooks/exhaustive-deps
}, []);
```

ржПржЦрж╛ржирзЗ `canMove` ржмржжрж▓рж╛рж▓рзЗржУ `handleMove` ржкрзБрж░рзЛржирзЛ ржорж╛ржирзЗ ржЖржЯржХрзЗ ржпрж╛рзЯред ржХрзЗржи? ржХрж╛рж░ржг `handleMove` ржХрзЗ рж░рж┐ржПржХрзНржЯрж┐ржн ржорж╛ржи рж╣рж┐рж╕рж╛ржмрзЗ `[handleMove]` ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐рждрзЗ ржирж╛ ржжрж┐рж▓рзЗ React рж╕рзЗржЯрж┐ржХрзЗ ржЖржкржбрзЗржЯ ржХрж░рзЗ ржирж╛ред

### тЬЕ рж╕ржарж┐ржХ рж╕ржорж╛ржзрж╛ржи: `useEffectEvent` ржжрж┐рзЯрзЗ

```js
const onMove = useEffectEvent((e) => {
  if (canMove) {
    setPosition({ x: e.clientX, y: e.clientY });
  }
});

useEffect(() => {
  window.addEventListener("pointermove", onMove);
  return () => window.removeEventListener("pointermove", onMove);
}, []);
```

ржПржЦрж╛ржирзЗ `onMove` рж╕ржмрж╕ржорзЯ `canMove`-ржПрж░ рж╕рж░рзНржмрж╢рзЗрж╖ ржорж╛ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗред

---

## ржЙржкрж╕ржВрж╣рж╛рж░

- `useEffectEvent` ржПржоржи ржХрзНрж╖рзЗрждрзНрж░рзЗ ржкрж╛рж░ржлрзЗржХрзНржЯ ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржЗржлрзЗржХрзНржЯрзЗ ржХрж┐ржЫрзБ тАЬржЗржнрзЗржирзНржЯрзЗрж░ ржорждрзЛтАЭ ржХрж╛ржЬ ржХрж░рждрзЗ ржЪрж╛ржиред
- ржПржЯрж╛ ржЖржкржирж╛ржХрзЗ stale ржорж╛ржи (ржкрзБрж░рзЛржирзЛ рж╕рзНржЯрзЗржЯ/ржкрзНрж░ржкрж╕) ржирж┐рзЯрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рждрзЗ ржжрзЗрзЯ ржирж╛ред
- ржЖржкржирж┐ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ рж▓рж┐ржирзНржЯрж╛рж░ржХрзЗ рж╕рж╛ржкрзНрж░рзЗрж╕ ржирж╛ ржХрж░рзЗ React-ржПрж░ рж╕рзЗрж░рж╛ рж╕рзБржмрж┐ржзрж╛ ржирж┐рждрзЗ ржкрж╛рж░рзЗржиред

---

ржЪржорзОржХрж╛рж░! ржПржЦржи Section 3.3 ржПрж░ ржмрж╛ржВрж▓рж╛ ржЕржирзБржмрж╛ржж ржПржмржВ ржмрзНржпрж╛ржЦрзНржпрж╛ ржжрзЗржУрзЯрж╛ ржпрж╛ржХ React Bangla Tutorial ржмржЗрзЯрзЗрж░ рж╕рзНржЯрж╛ржЗрж▓рзЗ тАФ рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ, ржЙржжрж╛рж╣рж░ржгрж╕рж╣, рж╢рж┐ржХрзНрж╖рж╛ржиржмрж┐рж╢ржжрзЗрж░ ржмрзЛржЭрж╛рж░ ржЙржкржпрзЛржЧрзАржнрж╛ржмрзЗред

---

## ЁЯза ржЕржзрзНржпрж╛рзЯ рзй.рзй: Effect Event-ржПрж░ рж╕рзАржорж╛ржмржжрзНржзрждрж╛

> тЪая╕П **ржПржЗ ржЕржзрзНржпрж╛рзЯрзЗ ржЖржорж░рж╛ ржпрзЗ API ржирж┐рзЯрзЗ ржХржерж╛ ржмрж▓ржЫрж┐, рждрж╛ ржПржЦржирзЛ React-ржПрж░ рж╕рзНржерж╛рзЯрзА (Stable) ржнрж╛рж░рзНрж╕ржирзЗ ржЖрж╕рзЗржирж┐ред ржПржЯрж┐ ржПржХржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛ржорзВрж▓ржХ (Experimental) APIред**

`useEffectEvent()` ржжрзЗржЦрждрзЗ ржпрждржЯрж╛ рж╕рж╣ржЬ, ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржЧрзЗрж▓рзЗ ржХрж┐ржЫрзБ **рж╕рзАржорж╛ржмржжрзНржзрждрж╛** ржорж╛ржерж╛рзЯ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗред

---

### ЁЯЪл Effect Event ржХржЦржи **ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛**?

Effect Event ржХржЦржирзЛржЗ ржирж┐ржЪрзЗрж░ ржХрж╛ржЬржЧрзБрж▓рзЛрждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛:

1. ЁЯФБ **Effect ржЫрж╛рзЬрж╛ ржЕржирзНржп ржЬрж╛рзЯржЧрж╛ ржерзЗржХрзЗ ржПржЯрж┐ ржХрж▓ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред**
2. ЁЯЪ╖ **Effect Event ржЕржирзНржп ржХрзЛржи ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржмрж╛ ржХрж╛рж╕рзНржЯржо рж╣рзБржХрзЗ ржкрж╛рж╕ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред**

---

### тЭМ ржнрзБрж▓ ржЙржжрж╛рж╣рж░ржг:

```js {4-6,8}
function Timer() {
  const [count, setCount] = useState(0);

  const onTick = useEffectEvent(() => {
    setCount(count + 1);
  });

  useTimer(onTick, 1000); // ЁЯФ┤ ржПржнрж╛ржмрзЗ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛!

  return <h1>{count}</h1>;
}

function useTimer(callback, delay) {
  useEffect(() => {
    const id = setInterval(() => {
      callback(); // ржПржЦрж╛ржирзЗ Effect Event ржбрж╛ржХрж╛ рж╣рзЯрзЗржЫрзЗ
    }, delay);
    return () => clearInterval(id);
  }, [delay, callback]);
}
```

ржПржЗ ржХрзЛржбрзЗ `onTick` ржПржХржЯрж┐ Effect Event, ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ рждрж╛ ржПржХржЯрж╛ ржХрж╛рж╕рзНржЯржо рж╣рзБржХ `useTimer`-ржП ржкрж╛ржарж┐рзЯрзЗржЫрж┐ред ржпрж╛ React-ржПрж░ ржирж┐рзЯржо ржЕржирзБржпрж╛рзЯрзА рж╕ржарж┐ржХ ржирзЯред

---

### тЬЕ рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐:

Effect Event ржХрзЗ рж╕ржмрж╕ржорзЯ рж╕рзЗржЗ Effect-ржПрж░ ржкрж╛рж╢рзЗ рж░рж╛ржЦрзЛ ржпрзЗржЯрж╛ рждрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗред

```js {10-12,16,21}
function Timer() {
  const [count, setCount] = useState(0);
  useTimer(() => {
    setCount(count + 1);
  }, 1000);
  return <h1>{count}</h1>;
}

function useTimer(callback, delay) {
  const onTick = useEffectEvent(() => {
    callback();
  });

  useEffect(() => {
    const id = setInterval(() => {
      onTick(); // тЬЕ Effect ржПрж░ ржнрж┐рждрж░ ржерзЗржХрзЗ рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржХрж▓ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ
    }, delay);
    return () => clearInterval(id);
  }, [delay]); // ржПржЦрж╛ржирзЗ onTick ржХрзЗ dependency рж╣рж┐рж╕рзЗржмрзЗ ржжрж┐рждрзЗ рж╣рзЯржирж┐!
}
```

ржПржЗ ржХрзЛржбрзЗ `onTick` рж╢рзБржзрзБ Effect-ржПрж░ ржнрж┐рждрж░рзЗржЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯрзЗржЫрзЗред ржПржЯрж╛ ржкрзБрж░рзЛржкрзБрж░рж┐ ржмрзИржз ржПржмржВ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕рзЗрж░ ржжрж┐ржХ ржерзЗржХрзЗ ржнрж╛рж▓рзЛред

---

### ЁЯФБ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржмрж┐рж╖рзЯ (Recap)

| ржмрж┐рж╖рзЯ                               | ржмрзНржпрж╛ржЦрзНржпрж╛                                                      |
| ---------------------------------- | ------------------------------------------------------------- |
| ЁЯЦ▒я╕П ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░               | ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ action (click, input ржЗрждрзНржпрж╛ржжрж┐)-ржПрж░ рж░рзЗрж╕ржкржирзНрж╕рзЗ ржЪрж▓рзЗ    |
| ЁЯФД ржЗржлрзЗржХрзНржЯ (Effect)                 | ржпржЦржи component-ржПрж░ ржХрзЛржи state ржмрж╛ prop ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯ, рждржЦржи ржЪрж▓рзЗ       |
| тЭМ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗрж░ рж▓ржЬрж┐ржХ | reactive ржирзЯ                                                   |
| тЬЕ ржЗржлрзЗржХрзНржЯрзЗрж░ ржнрж┐рждрж░рзЗрж░ рж▓ржЬрж┐ржХ            | reactive                                                      |
| ЁЯФА Effect Event                    | ржЗржлрзЗржХрзНржЯрзЗрж░ ржнрж┐рждрж░ ржерзЗржХрзЗ call ржХрж░рж╛рж░ ржЬржирзНржп non-reactive ржХрзЛржб ржЖрж▓рж╛ржжрж╛ рж░рж╛ржЦрзЗ |
| ЁЯУН Effect Event ржмрзНржпржмрж╣рж╛рж░            | рж╢рзБржзрзБржорж╛рждрзНрж░ ржЗржлрзЗржХрзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ ржХрж▓ ржХрж░рждрзЗ рж╣ржмрзЗ                          |
| ЁЯЫС Effect Event ржкрж╛рж╕ ржХрж░рж╛            | ржЕржирзНржп ржХржорзНржкрзЛржирзЗржирзНржЯ ржмрж╛ рж╣рзБржХрзЗ ржкрж╛рж╕ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛                       |

---

**ЁЯУМ рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрж▓рж▓рзЗ:**
Effect Event рж╣ржЪрзНржЫрзЗ ржПржоржи ржПржХржЯрж┐ helper, ржпрзЗржЯрж╛ рж╢рзБржзрзБржорж╛рждрзНрж░ useEffect-ржПрж░ ржнрж┐рждрж░рзЗ ржХрж┐ржЫрзБ non-reactive logic ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржпред ржПржЯрж┐ ржХржЦржирзЛ ржмрж╛ржЗрж░рзЗрж░ ржжрж┐ржХрзЗ share ржмрж╛ reuse ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред
