ржнрж╛ржЗ, ржЦрзБржм рж╕рзБржирзНржжрж░ ржкрзНрж░рж╢рзНржи ржХрж░рзЗржЫрзЗржи тАФ ржзржирзНржпржмрж╛ржж! ЁЯЩП

ржЖржорж┐ ржЗржВрж░рзЗржЬрж┐рждрзЗ рж▓рж┐ржЦрзЗржЫрж┐ ржХрж╛рж░ржг ржЕржирзЗржХ рж╕ржорзЯ ржЖржкржирж┐ ржЗржВрж░рзЗржЬрж┐рждрзЗ рж▓рж┐ржЦрзЗ ржерж╛ржХрзЗржи, ржЖрж░ React documentation ржмрж╛ ржХрзЛржбржЧрзБрж▓рж╛ржУ ржЗржВрж░рзЗржЬрж┐рждрзЗржЗ ржерж╛ржХрзЗред ржХрж┐ржирзНрждрзБ ржПржЦржи ржпрзЗрж╣рзЗрждрзБ ржЖржкржирж┐ ржоржирзЗ ржХрж░рж┐рзЯрзЗ ржжрж┐рж▓рзЗржи, ржЖржорж┐ ржЖржкржирж╛рж░ ржмржЗрзЯрзЗрж░ ржЬржирзНржп **Bangla-ржнрж╛рж╖рж╛рзЯ рж╕рж╣ржЬ ржХрж░рзЗ** ржкрзБрж░рзЛ Chapter рж▓рж┐ржЦрзЗ ржжрж┐ржмрзЛ тАФ ржпрзЗржи ржПржХржжржо ржирждрзБржиржжрзЗрж░ ржЬржирзНржп ржмрзЛржзржЧржорзНржп рж╣рзЯред

---

ржЪрж▓рзБржи рждрж╛рж╣рж▓рзЗ ржЖржкржирж╛рж░ ржмржЗрзЯрзЗрж░ ржПржЗ Chapter-ржПрж░ **Section 1 (Intro)** ржПржмржВ **Section 2 (Effect Lifecycle Summary)** ржмрж╛ржВрж▓рж╛рзЯ рж▓рж┐ржЦрзЗ ржжрж┐ржЗ:

---

## ржЕржзрзНржпрж╛рзЯ: Reactive Effect-ржПрж░ Lifecycle

### Section 1: ржнрзВржорж┐ржХрж╛

React-ржП ржкрзНрж░рждрж┐ржЯрж┐ component-ржПрж░ ржПржХржЯрж┐ ржЬрзАржмржиржЪржХрзНрж░ ржерж╛ржХрзЗ тАФ ржпрзЗржоржи:

- **Mount** рж╣рзЯ: ржпржЦржи component ржкрзНрж░ржержоржмрж╛рж░ рж╕рзНржХрзНрж░рж┐ржирзЗ ржЖрж╕рзЗ
- **Update** рж╣рзЯ: ржпржЦржи props ржмрж╛ state ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯ
- **Unmount** рж╣рзЯ: ржпржЦржи component рж╕рзНржХрзНрж░рж┐ржи ржерзЗржХрзЗ ржЪрж▓рзЗ ржпрж╛рзЯ

ржХрж┐ржирзНрждрзБ `useEffect` рж╣рзБржХ ржПржХржжржо ржЖрж▓рж╛ржжрж╛ред ржПржЯрж┐ component-ржПрж░ ржорждрзЛ рждрж┐ржиржЯрж┐ ржзрж╛ржкрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржирж╛ред

`useEffect` ржХрзЗржмрж▓ **ржжрзБржЗржЯрж╛ ржХрж╛ржЬ** ржХрж░рзЗ:

1. ржХрзЛржирзЛ ржХрж┐ржЫрзБ **synchronize ржХрж░рж╛ рж╢рзБрж░рзБ ржХрж░рзЗ** (ржпрзЗржоржи: рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржХрж╛ржирзЗржХрзНржЯ рж╣ржУрзЯрж╛)
2. ржкрж░рзЗ рждрж╛ **ржмржирзНржз ржХрж░рзЗ ржжрзЗрзЯ** (ржпрзЗржоржи: disconnect ржХрж░рж╛)

ржПржЗ synchronize ржХрж░рж╛рж░ ржХрж╛ржЬржЯрж┐ ржПржХрж╛ржзрж┐ржХржмрж╛рж░ржУ рж╣рждрзЗ ржкрж╛рж░рзЗ тАФ ржпржжрж┐ ржЖржкржирж╛рж░ props ржмрж╛ state ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯред

React ржирж┐ржЬрзЗржЗ ржЖржкржирж╛ржХрзЗ рж╕рждрж░рзНржХ ржХрж░рзЗ ржжрзЗрзЯ ржпрж╛рждрзЗ ржЖржкржирж┐ `useEffect`-ржПрж░ dependency ржЧрзБрж▓рзЛ ржарж┐ржХржнрж╛ржмрзЗ ржжрзЗржиред ржПржЯрж╛рж░ ржЬржирзНржп React-ржПрж░ ржПржХржЯрж┐ **linter rule** ржЖржЫрзЗред

---

### ржЖржкржирж┐ рж╢рж┐ржЦржмрзЗржи:

тЬЕ component lifecycle ржЖрж░ effect lifecycle-ржПрж░ ржкрж╛рж░рзНржержХрзНржп
тЬЕ ржХрж┐ржнрж╛ржмрзЗ ржПржХрзЗржХржЯрж╛ Effect ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржнрж╛ржмрждрзЗ рж╣рзЯ
тЬЕ ржХржЦржи Effect ржЖржмрж╛рж░ ржЪрж╛рж▓рзБ рж╣ржмрзЗ ржЖрж░ ржХрзЗржи
тЬЕ dependency array ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ
тЬЕ reactive ржорж╛ржирзЗ ржХрзА
тЬЕ ржЦрж╛рж▓рж┐ dependency array ржжрж┐рж▓рзЗ ржХрзА рж╣рзЯ
тЬЕ React ржХрж┐ржнрж╛ржмрзЗ dependency ржарж┐ржХ ржЖржЫрзЗ ржХрж┐ржирж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзЗ
тЬЕ ржЖржкржирж┐ ржпржжрж┐ linter-ржПрж░ рж╕рж╛ржерзЗ ржПржХржоржд ржирж╛ рж╣ржи рждржЦржи ржХрзА ржХрж░ржмрзЗржи

---

### Section 2: Effect-ржПрж░ рж▓рж╛ржЗржлрж╕рж╛ржЗржХрзЗрж▓ ржХрзЗржоржи?

ржкрзНрж░рждрж┐ржЯрж┐ React component ржирж┐ржЪрзЗрж░ ржорждрзЛ ржХрж░рзЗ ржЪрж▓рзЗ:

- рж╕рзНржХрзНрж░рж┐ржирзЗ **mount** рж╣рзЯ
- ржкрж░рзЗ **update** рж╣рзЯ (ржпржЦржи props ржмрж╛ state ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯ)
- рж╢рзЗрж╖рзЗ **unmount** рж╣рзЯ (рж╕рзНржХрзНрж░рж┐ржи ржерзЗржХрзЗ ржЪрж▓рзЗ ржпрж╛рзЯ)

ржПржнрж╛ржмрзЗ component-ржПрж░ lifecycle ржмрзЛржЭрж╛ ржпрж╛рзЯред

ржХрж┐ржирзНрждрзБ `useEffect` ржПрж░ ржЬржирзНржп ржПржЗржнрж╛ржмрзЗ ржнрж╛ржмрж╛ ржнрзБрж▓ред `useEffect` component lifecycle-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ ржирж╛ред ржмрж░ржВ `useEffect` ржХрзЗржмрж▓ ржмрж▓рзЗ:

> тАЬржЖржорж┐ ржХрзАржнрж╛ржмрзЗ ржмрж╛ржЗрж░рзЗрж░ ржХрзЛржирзЛ ржЬрж┐ржирж┐рж╕рзЗрж░ рж╕рж╛ржерзЗ sync ржХрж░ржмрзЛ, ржПржмржВ ржХржЦржи рж╕рзЗржЯрж╛ржХрзЗ ржмржирзНржз ржХрж░ржмрзЛредтАЭ

ржПржЗ syncing ржЕржирзЗржХржмрж╛рж░ ржШржЯрждрзЗ ржкрж╛рж░рзЗ тАФ ржкрзНрж░рждрж┐ржмрж╛рж░ ржпржЦржи `useEffect` ржПрж░ dependency (ржпрзЗржоржи props/state) ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯред

---

### ржЙржжрж╛рж╣рж░ржг: Chat Server ржП ржХрж╛ржирзЗржХрзНржЯ ржХрж░рж╛

```js
const serverUrl = "https://localhost:1234";

function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();

    return () => {
      connection.disconnect();
    };
  }, [roomId]);
}
```

ржПржЦрж╛ржирзЗ `useEffect` ржПрж░ ржнрж┐рждрж░рзЗ ржХрзА ржШржЯржЫрзЗ?

тЬЕ **Synchronize рж╢рзБрж░рзБ рж╣ржЪрзНржЫрзЗ:**

```js
const connection = createConnection(serverUrl, roomId);
connection.connect();
```

тЬЕ **Synchronize ржмржирзНржз ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ:**

```js
return () => {
  connection.disconnect();
};
```

ржЖржкржирж┐ рж╣рзЯрждрзЛ ржнрж╛ржмржЫрзЗржи тАФ component ржпржЦржи **mount** рж╣рзЯ, рждржЦржиржЗ connect рж╣ржмрзЗ ржЖрж░ **unmount** рж╣рж▓рзЗ disconnect рж╣ржмрзЗред

ржХрж┐ржирзНрждрзБ ржирж╛! ржпржжрж┐ `roomId` props ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯ, рждржЦржиржУ Effect ржЖржмрж╛рж░ ржЪрж▓ржмрзЗред

React рждржЦржи ржХрзА ржХрж░ржмрзЗ?

1. ржЖржЧрзЗрж░ room (`"general"`) ржерзЗржХрзЗ disconnect ржХрж░ржмрзЗ
2. ржирждрзБржи room (`"travel"`) ржП connect ржХрж░ржмрзЗ

ржПржЗ ржкрзБрж░рзЛ ржХрж╛ржЬржЯрж╛ржЗ React ржХрж░рзЗ ржжрж┐ржмрзЗ тАФ ржХрж╛рж░ржг ржЖржкржирж┐ `useEffect`-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржмрж▓рзЗ ржжрж┐рзЯрзЗржЫрзЗржи:

- ржХрзАржнрж╛ржмрзЗ connect ржХрж░рждрзЗ рж╣рзЯ
- ржХрзАржнрж╛ржмрзЗ disconnect ржХрж░рждрзЗ рж╣рзЯ

---

### ЁЯУЭ ржирзЛржЯ:

рж╕ржм `useEffect`-ржП cleanup ржжрж░ржХрж╛рж░ рж╣рзЯ ржирж╛ред
рждржмрзЗ ржпржжрж┐ ржЖржкржирж┐ ржХрзЛржирзЛ ржЯрж╛ржЗржорж╛рж░, рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи, рж╕рж╛рж░рзНржнрж╛рж░ ржХрж╛ржирзЗржХрж╢ржи ржЗрждрзНржпрж╛ржжрж┐рж░ ржорждрзЛ ржХрж╛ржЬ ржХрж░рзЗржи тАФ рждрж╛рж╣рж▓рзЗ ржЕржмрж╢рзНржпржЗ cleanup function ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЙржЪрж┐рждред

---

ржЖржорж░рж╛ ржжрзЗржЦржмрзЛ ржХрзАржнрж╛ржмрзЗ `useEffect` ржжрж┐рзЯрзЗ ржХрзЛржирзЛ ржЗржнрзЗржирзНржЯрзЗ рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рж╛ ржпрж╛рзЯ ржПржмржВ ржХржорзНржкрзЛржирзЗржирзНржЯ unmount рж╣рж▓рзЗ рж╕рзЗржЗ рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржХрзАржнрж╛ржмрзЗ ржмржирзНржз ржХрж░рж╛ рж╣рзЯред

---

## тЬЕ ржЙржжрж╛рж╣рж░ржг: ржЙржЗржирзНржбрзЛрж░ рж░рж┐рж╕рж╛ржЗржЬ ржЗржнрзЗржирзНржЯрзЗ рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм

```jsx
import { useEffect, useState } from "react";

function WindowSizeTracker() {
  const [width, setWidth] = useState(window.innerWidth);

  useEffect(() => {
    // рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░ржЫрж┐: рж░рж┐рж╕рж╛ржЗржЬ рж╣рж▓рзЗ ржирждрзБржи width рж╕рзЗржЯ ржХрж░ржмрзЛ
    const handleResize = () => {
      setWidth(window.innerWidth);
    };

    window.addEventListener("resize", handleResize);

    // ЁЯз╣ ржХрзНрж▓рж┐ржиржЖржк: ржХржорзНржкрзЛржирзЗржирзНржЯ unmount рж╣рж▓рзЗ рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржмржирзНржз
    return () => {
      window.removeEventListener("resize", handleResize);
    };
  }, []); // ржЦрж╛рж▓рж┐ dependency ржорж╛ржирзЗ рж╢рзБржзрзБ ржПржХржмрж╛рж░ рж░рж╛ржи ржХрж░ржмрзЗ

  return (
    <div>
      <h2>ржмрж░рзНрждржорж╛ржи ржЙржЗржирзНржбрзЛ ржкрзНрж░рж╕рзНрже: {width}px</h2>
    </div>
  );
}

export default WindowSizeTracker;
```

---

## ЁЯза ржмрзНржпрж╛ржЦрзНржпрж╛ ржмрж╛ржВрж▓рж╛рзЯ:

| ржзрж╛ржк                           | ржмрзНржпрж╛ржЦрзНржпрж╛                                                                                             |
| ----------------------------- | ---------------------------------------------------------------------------------------------------- |
| `useEffect(() => {...}, [])`  | ржХржорзНржкрзЛржирзЗржирзНржЯ рж▓рзЛржб рж╣ржУрзЯрж╛рж░ ржкрж░ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржмрж╛рж░ ржЪрж▓ржмрзЗред                                                        |
| `window.addEventListener`     | ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржХрзЛржирзЛ ржЗржнрзЗржирзНржЯ рж╢рзБржирзЗ тАФ ржПржЦрж╛ржирзЗ рж░рж┐рж╕рж╛ржЗржЬ ржЗржнрзЗржирзНржЯрзЗ рж▓рж┐рж╕рзЗржирж╛рж░ ржмрж╕рж╛ржирзЛ рж╣рж▓рзЛред                                 |
| `return () => {...}`          | ржПржЗ ржЕржВрж╢ржЯрж╛ `useEffect` ржПрж░ ржХрзНрж▓рж┐ржиржЖржк ржлрж╛ржВрж╢ржи тАФ рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржмржирзНржз ржХрж░рж╛рж░ ржЬржирзНржп ржжрж░ржХрж╛рж░, ржирзЯрждрзЛ ржорзЗржорзЛрж░рж┐ рж▓рж┐ржХ рж╣рждрзЗ ржкрж╛рж░рзЗред |
| `setWidth(window.innerWidth)` | ржпржЦржи ржЗржЙржЬрж╛рж░ ржЙржЗржирзНржбрзЛрж░ рж╕рж╛ржЗржЬ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ, рждржЦржи ржирждрзБржи ржкрзНрж░рж╕рзНрже state-ржП рж╕рзЗржЯ рж╣рзЯред                                 |

---

## ЁЯТб ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржорждрзЛ ржмрж┐рж╖рзЯ

- рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржорж╛ржирзЗ рж╣ржЪрзНржЫрзЗ ржПржоржи ржХрж┐ржЫрзБ рж╢рзЛржирж╛ ржмрж╛ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рж╛ тАФ ржпрзЗржоржи рж░рж┐рж╕рж╛ржЗржЬ, рж╕рзНржХрзНрж░рж▓, ржУрзЯрзЗржмрж╕ржХрзЗржЯ, ржЯрж╛ржЗржорж╛рж░ ржЗрждрзНржпрж╛ржжрж┐ред
- ржХрзНрж▓рж┐ржиржЖржк ржлрж╛ржВрж╢ржи ржирж╛ ржжрж┐рж▓рзЗ ржкрзБрж░ржирзЛ ржЗржнрзЗржирзНржЯ рж▓рж┐рж╕рзЗржирж╛рж░ ржерзЗржХрзЗ рж╕ржорж╕рзНржпрж╛ рж╣рждрзЗ ржкрж╛рж░рзЗред

ржЕржмрж╢рзНржпржЗ ржнрж╛ржЗ, ржирж┐ржЪрзЗрж░ ржЕржВрж╢рзЗ Section 2.2 ржмрж╛ржВрж▓рж╛рзЯ рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ рж▓рж┐ржЦрзЗ ржжрж┐рж▓рж╛ржо, ржЖржЧрзЗрж░ ржорждрзЛ format ржзрж░рзЗ рж░рзЗржЦрзЗ:

---

## Section 2.2: React ржХрж┐ржнрж╛ржмрзЗ ржЖржкржирж╛рж░ Effect ржЖржмрж╛рж░ synchronize ржХрж░рзЗ

ржЖржкржирж╛рж░ `ChatRoom` component ржПрж░ ржХржерж╛ ржоржирзЗ ржЖржЫрзЗ рждрзЛ? ржзрж░рзБржи, ржПржЯрж╛ ржЖржЧрзЗржУ `"general"` ржирж╛ржорзЗ ржПржХржЯрж╛ room ржкрзЗрзЯрзЗржЫрж┐рж▓ `roomId` рж╣рж┐рж╕рзЗржмрзЗред ржПржЦржи рж╕рзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯрзЗ `"travel"` рж╣рзЯрзЗржЫрзЗред

ржПржЦржи React ржХрзА ржХрж░ржмрзЗ?

React ржмрзБржЭржмрзЗ, **Effect-ржЯрж┐ ржЖржмрж╛рж░ synchronize ржХрж░рждрзЗ рж╣ржмрзЗ**, ржХрж╛рж░ржг ржЖржкржирж┐ ржЕржирзНржп ржПржХржЯрж╛рж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ ржЪрж╛ржЗржЫрзЗржиред

---

### тЬЕ Step 1: ржкрзБрж░рзЛржирзЛ Synchronization ржмржирзНржз ржХрж░рж╛

React ржкрзНрж░ржержорзЗ ржкрзБрж░рзЛржирзЛ Effect ржПрж░ **cleanup function** ржХрж▓ ржХрж░ржмрзЗред ржПржЗ function ржЖржЧрзЗрж░ `"general"` room ржПрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ ржмржирзНржз ржХрж░рж╛рж░ ржХрж╛ржЬ ржХрж░рзЗред

```js {6}
function ChatRoom({ roomId /* "general" */ }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // "general" рж░рзБржорзЗ рж╕ржВржпрзБржХрзНржд рж╣ржЪрзНржЫрзЗ
    connection.connect();
    return () => {
      connection.disconnect(); // "general" рж░рзБржо ржерзЗржХрзЗ рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи ржХрж░ржЫрзЗ
    };
  }, [roomId]);
}
```

---

### тЬЕ Step 2: ржирждрзБржи Synchronization рж╢рзБрж░рзБ ржХрж░рж╛

ржПрж░ржкрж░ React ржирждрзБржи `roomId` ржорж╛ржи рж╕рж╣ ржирждрзБржи Effect ржЪрж╛рж▓рж╛ржмрзЗред ржПржмрж╛рж░ `roomId` рж╣ржЪрзНржЫрзЗ `"travel"`ред

```js {3,4}
function ChatRoom({ roomId /* "travel" */ }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // "travel" рж░рзБржорзЗ рж╕ржВржпрзБржХрзНржд рж╣ржЪрзНржЫрзЗ
    connection.connect();
    // ...
  }, [roomId]);
}
```

ржПржнрж╛ржмрзЗ React ржЖржкржирж╛рж░ `roomId`-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ **ржкрзБрж░рж╛рждржи рж╕ржВржпрзЛржЧ ржмржирзНржз ржХрж░рзЗ, ржЖрж░ ржирждрзБржи рж╕ржВржпрзЛржЧ ржЪрж╛рж▓рзБ ржХрж░рзЗ** тАФ ржпрзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА UI-рждрзЗ ржмрзЗржЫрзЗ ржирж┐рзЯрзЗржЫрзЗред

ржПржЯрж╛рж░ ржЬржирзНржп ржЖржкржирж┐ ржирж┐ржЬрзЗ ржХрж┐ржЫрзБ ржХрж░рждрзЗ рж╣рзЯ ржирж╛ тАФ рж╢рзБржзрзБ dependency ржарж┐ржХ рж░рж╛ржЦрж▓рзЗржЗ React рж╕ржм ржорзНржпрж╛ржирзЗржЬ ржХрж░рзЗ ржжрзЗрзЯред

---

### ЁЯОп ржкрзНрж░рждрж┐ ржмрж╛рж░ roomId ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ ржХрзА рж╣рзЯ?

ржзрж░рзБржи, ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржЖржмрж╛рж░ `roomId` ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ `"travel"` ржерзЗржХрзЗ `"music"` ржП ржЪрж▓рзЗ ржЧрзЗрж▓ред рждржЦржи React ржЖржмрж╛рж░:

1. ржЖржЧрзЗрж░ Effect ржПрж░ cleanup function ржХрж▓ ржХрж░рзЗ тАУ `"travel"` ржерзЗржХрзЗ disconnect рж╣рзЯ
2. ржирждрзБржи Effect ржЪрж╛рж▓рж╛рзЯ тАУ `"music"` room-ржП connect рж╣рзЯ

ржПржнрж╛ржмрзЗржЗ ржкрзНрж░рждрж┐ржмрж╛рж░ `roomId` ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ Effect **re-synchronize** рж╣рзЯред

---

### ЁЯз╣ Unmount рж╣рж▓рзЗ ржХрзА рж╣рзЯ?

ржпржЦржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржЕржирзНржп ржХрзЛржирзЛ рж╕рзНржХрзНрж░рж┐ржирзЗ ржЪрж▓рзЗ ржпрж╛рзЯ, рждржЦржи `ChatRoom` component **unmount** рж╣рзЯрзЗ ржпрж╛рзЯред рждржЦржи React **рж╢рзЗрж╖ржмрж╛рж░рзЗрж░ ржорждрзЛ** cleanup function ржЪрж╛рж▓рж╛рзЯ тАФ ржЕрж░рзНржерж╛рзО `"music"` рж░рзБржо ржерзЗржХрзЗржУ disconnect ржХрж░рзЗ ржжрзЗрзЯред

---

### ЁЯУМ ржорзВрж▓ ржХржерж╛:

React ржкрзНрж░рждрж┐ржмрж╛рж░ ржирждрзБржи props (ржпрзЗржоржи `roomId`) ржкрзЗрж▓рзЗ:

- ржЖржЧрзЗрж░ effect ржмржирзНржз ржХрж░рзЗ (cleanup)
- ржирждрзБржи effect ржЪрж╛рж▓рж╛рзЯ (sync рж╢рзБрж░рзБ ржХрж░рзЗ)

ржПржнрж╛ржмрзЗржЗ React ржЖржкржирж╛рж░ `useEffect`-ржХрзЗ ржмрж╛рж░ржмрж╛рж░ re-synchronize ржХрж░рзЗ тАФ ржЖржкржирж╛рж░ ржжрзЗржУрзЯрж╛ dependency (`[roomId]`) ржжрзЗржЦрзЗ ржжрзЗржЦрзЗред

ржЕржмрж╢рзНржпржЗ ржнрж╛ржЗ, ржирж┐ржЪрзЗ Section 2.3 ржмрж╛ржВрж▓рж╛рзЯ рж╕рж╣ржЬржнрж╛ржмрзЗ ржПржмржВ ржЖржЧрзЗрж░ ржзрж╛рж░рж╛ ржЕржирзБржпрж╛рзЯрзА ржЕржирзБржмрж╛ржж ржХрж░рзЗ ржжрж┐рж▓рж╛ржо:

---

## Section 2.3: Effect-ржПрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг ржерзЗржХрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж╛

ржЖржорж░рж╛ ржПржЦржи ржкрж░рзНржпржирзНржд ржпрж╛ рж╢рж┐ржЦрзЗржЫрж┐, ржПржХржмрж╛рж░ `ChatRoom` component-ржПрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг ржерзЗржХрзЗ ржкрзБрж░рзЛ ржмрж┐рж╖рзЯржЯрж╛ рж╕ржВржХрзНрж╖рзЗржкрзЗ ржжрзЗржЦрж┐:

1. `ChatRoom` ржкрзНрж░ржержоржмрж╛рж░ рждрзИрж░рж┐ (mount) рж╣рж▓рзЛ, рждржЦржи `roomId` ржЫрж┐рж▓ `"general"`
2. рждрж╛рж░ржкрж░ `roomId` ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЛ `"travel"` ржП
3. ржЖржмрж╛рж░ `roomId` ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЛ `"music"` ржП
4. рж╢рзЗрж╖рзЗ `ChatRoom` component unmount рж╣рж▓рзЛ (ржорж╛ржирзЗ, UI ржерзЗржХрзЗ ржЧрж╛рзЯрзЗржм рж╣рж▓рзЛ)

ржПржЗ рж╕ржорзЯржЧрзБрж▓рзЛрждрзЗ ржЖржкржирж╛рж░ `useEffect` ржпрж╛ ржпрж╛ ржХрж░рзЗржЫрж┐рж▓:

1. `"general"` room-ржП рж╕ржВржпрзБржХрзНржд рж╣рзЯрзЗржЫрж┐рж▓
2. `"general"` ржерзЗржХрзЗ рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи ржХрж░рзЗ `"travel"` room-ржП рж╕ржВржпрзБржХрзНржд рж╣рзЯрзЗржЫрж┐рж▓
3. `"travel"` ржерзЗржХрзЗ рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи ржХрж░рзЗ `"music"` room-ржП рж╕ржВржпрзБржХрзНржд рж╣рзЯрзЗржЫрж┐рж▓
4. `"music"` room ржерзЗржХрзЗржУ рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи ржХрж░рзЗ ржжрж┐рзЯрзЗржЫрж┐рж▓

---

### ЁЯдФ ржПржмрж╛рж░ ржЪрж┐ржирзНрждрж╛ ржХрж░рж┐ Effect-ржПрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг ржерзЗржХрзЗ

```js
useEffect(() => {
  // roomId ржЕржирзБржпрж╛рзЯрзА ржирждрзБржи рж╕ржВржпрзЛржЧ рждрзИрж░рж┐ рж╣рзЯ
  const connection = createConnection(serverUrl, roomId);
  connection.connect();

  return () => {
    // ржпржЦржи effect ржмржирзНржз рж╣рзЯ, рждржЦржи рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи рж╣рзЯ
    connection.disconnect();
  };
}, [roomId]);
```

ржПржЗ ржХрзЛржбржЯрж╛ ржжрзЗржЦрж▓рзЗ ржоржирзЗ рж╣ржмрзЗ, ржпрзЗржи effect-ржЯрж╛ **ржПржХржЯрж╛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржорзЯрзЗрж░ ржЬржирзНржп рж╢рзБрж░рзБ рж╣рзЯ ржПржмржВ ржкрж░рзЗ ржерж╛ржорзЗ** тАФ ржПржХржмрж╛рж░рзЗ ржПржХржЯрж╛ржЗ room handle ржХрж░рзЗред

ржПржЗржнрж╛ржмрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж▓рзЗ рж╕рж╣ржЬ рж╣ржмрзЗ:

1. ржкрзНрж░ржержорзЗ Effect `"general"` room-ржП connect ржХрж░рж▓, ржпрждржХрзНрж╖ржг ржирж╛ рж╕рзЗржЯрж╛ disconnect рж╣рж▓рзЛ
2. ржПрж░ржкрж░ `"travel"` room-ржП connect ржХрж░рж▓, ржпрждржХрзНрж╖ржг ржирж╛ рж╕рзЗржЯрж╛ disconnect рж╣рж▓рзЛ
3. ржПрж░ржкрж░ `"music"` room-ржП connect ржХрж░рж▓, ржпрждржХрзНрж╖ржг ржирж╛ рж╕рзЗржЯрж╛ disconnect рж╣рж▓рзЛ

---

### тЪая╕П Component-ржПрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг ржерзЗржХрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж▓рзЗ ржЬржЯрж┐рж▓рждрж╛ ржмрж╛рзЬрзЗ

ржЖржЧрзЗ ржЖржорж░рж╛ component-ржПрж░ lifecycle ржЕржирзБржпрж╛рзЯрзА ржнрж╛ржмржЫрж┐рж▓рж╛ржо тАФ render рж╣ржУрзЯрж╛рж░ ржкрж░рзЗ effect ржЪрж▓рзЗ, unmount рж╣ржУрзЯрж╛рж░ ржЖржЧрзЗ cleanup рж╣рзЯред
ржПржЗржнрж╛ржмрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж▓рзЗ ржжрзНрж░рзБржд ржЬржЯрж┐рж▓ рж╣рзЯрзЗ ржпрж╛рзЯ, ржХрж╛рж░ржг рждржЦржи component ржХржЦржи mount, ржХржЦржи update, ржХржЦржи unmount тАФ рж╕ржм ржнрж╛ржмрждрзЗ рж╣рзЯред

---

### тЬЕ ржмрж░ржВ Effect-ржПрж░ "start/stop" ржЪржХрзНрж░ ржирж┐рзЯрзЗ ржнрж╛ржмрзБржи

ржЖржкржирж╛рж░ ржЪрж┐ржирзНрждрж╛ ржПржоржи рж╣ржУрзЯрж╛ ржЙржЪрж┐ржд:

> ржПржЗ Effect рж╢рзБрж░рзБ рж╣рж▓рзЗ ржХрзА ржХрж░рждрзЗ рж╣ржмрзЗ?
> ржПржЗ Effect ржмржирзНржз рж╣рж▓рзЗ (cleanup рж╣рж▓рзЗ) ржХрзА ржХрж░рждрзЗ рж╣ржмрзЗ?

ржЖрж░ ржХрж┐ржЫрзБржЗ ржнрж╛ржмрж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗред Component ржХржЦржи mount рж╣ржЪрзНржЫрзЗ ржмрж╛ update рж╣ржЪрзНржЫрзЗ, рж╕рзЗржЯрж╛ ржорж╛ржерж╛рзЯ ржирж╛ рж░рж╛ржЦрж▓рзЗржУ ржЪрж▓ржмрзЗред

ржпржжрж┐ ржЖржкржирж┐ Effect-ржХрзЗ ржПржоржиржнрж╛ржмрзЗ рж▓рзЗржЦрзЗржи, ржпрзЗржи рж╕рзЗржЯрж╛ ржпрждржмрж╛рж░ ржжрж░ржХрж╛рж░ рж╣рзЯ рждрждржмрж╛рж░ рж╢рзБрж░рзБ ржУ ржмржирзНржз рж╣рждрзЗ ржкрж╛рж░рзЗ тАФ рждрж╛рж╣рж▓рзЗ ржЖржкржирж╛рж░ code **ржжрзГрзЭ (resilient)** рж╣ржмрзЗред ржХрзЛржирзЛ bug рж╣ржмрзЗ ржирж╛ред

---

### ЁЯОи ржПржХржжржо ржпрзЗржоржи JSX рж▓рж┐ржЦрж┐

ржпржЦржи ржЖржкржирж┐ JSX рж▓рзЗржЦрзЗржи, рждржЦржи ржнрж╛ржмрзЗржи ржирж╛ component "mount" рж╣ржЪрзНржЫрзЗ ржирж╛ржХрж┐ "update" тАФ ржЖржкржирж┐ рж╢рзБржзрзБ ржмрж▓рзЗржи "рж╕рзНржХрзНрж░рж┐ржирзЗ ржПржЯрж╛ ржжрзЗржЦрж╛ржУ", ржЖрж░ React ржмрж╛ржХрж┐ржЯрж╛ ржорзНржпрж╛ржирзЗржЬ ржХрж░рзЗред

ржПржХржЗржнрж╛ржмрзЗ, Effect рж▓рзЗржЦрж╛рж░ рж╕ржорзЯ ржЖржкржирж┐ рж╢рзБржзрзБ ржмрж▓рзЗржи:

- ржХрзАржнрж╛ржмрзЗ рж╢рзБрж░рзБ рж╣ржмрзЗ (connect)
- ржХрзАржнрж╛ржмрзЗ ржмржирзНржз рж╣ржмрзЗ (disconnect)

React рж╕ржм ржмрж╛ржХрж┐ржЯрж╛ smartly handle ржХрж░рзЗред

---

ржЕржмрж╢рзНржпржЗ ржнрж╛ржЗ, ржирж┐ржЪрзЗ **Section 2.4: "How React verifies that your Effect can re-synchronize"** ржЕржВрж╢ржЯрж┐ржХрзЗ ржмрж╛ржВрж▓рж╛рзЯ рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рзЗ ржжрж┐рж▓рж╛ржо:

---

## Section 2.4: React ржХрзАржнрж╛ржмрзЗ ржпрж╛ржЪрж╛ржЗ ржХрж░рзЗ ржпрзЗ ржЖржкржирж╛рж░ Effect ржкрзБржирж░рж╛рзЯ рж╕ржарж┐ржХржнрж╛ржмрзЗ sync ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ

### ЁЯзк рж▓рж╛ржЗржн ржЙржжрж╛рж╣рж░ржг ржмрж┐рж╢рзНрж▓рзЗрж╖ржг

ржЙржкрж░рзЗрж░ ржХрзЛржбржЯрж┐ ржПржХржЯрж╛ simple ржЪрзНржпрж╛ржЯ ржЕрзНржпрж╛ржкрзЗрж░ ржбрзЗржорзЛ, ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐:

- ржХрзЛржи рж░рзБржорзЗ ржЪрзНржпрж╛ржЯ ржХрж░ржмрзЗржи рждрж╛ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи (`roomId`)
- ржЖрж░ ржЪрзНржпрж╛ржЯ ржЪрж╛рж▓рзБ/ржмржирзНржз (mount/unmount) ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржПржХржЯрж┐ ржмрж╛ржЯржирзЗрж░ ржорж╛ржзрзНржпржорзЗ

ЁЯФН ржпржЦржи ржЖржкржирж┐ ржкрзНрж░ржержоржмрж╛рж░ **"Open chat"** ржЪрж╛ржк ржжрзЗржи, React `ChatRoom` component ржХрзЗ **mount** ржХрж░рзЗред рждржЦржи ржЖржкржирж┐ ржХржирж╕рзЛрж▓рзЗ ржирж┐ржЪрзЗрж░ рзйржЯрж┐ рж▓ржЧ ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗржи:

1. тЬЕ `Connecting to "general" room at https://localhost:1234...`
2. тЭМ `Disconnected from "general" room at https://localhost:1234.`
3. тЬЕ `Connecting to "general" room at https://localhost:1234...`

### тЭЧржПржЗ рзйржЯрж╛ рж▓ржЧрзЗрж░ ржорж╛ржирзЗ ржХрзА?

- ржкрзНрж░ржержо **connect** ржПржмржВ рждрж╛рж░ржкрж░ржЗ **disconnect** рж╣ржУрзЯрж╛ рж╢рзБржзрзБржорж╛рждрзНрж░ **development mode**-ржП рж╣рзЯред
- React ржЗржЪрзНржЫрж╛ ржХрж░рзЗ component-ржХрзЗ **ржжрзБржЗржмрж╛рж░ mount** ржХрж░рзЗ ржПржЯрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛рж░ ржЬржирзНржп ржпрзЗ ржЖржкржирж┐ ржЖржкржирж╛рж░ `useEffect`-ржПрж░ **cleanup logic ржарж┐ржХржнрж╛ржмрзЗ рж▓рж┐ржЦрзЗржЫрзЗржи ржХрж┐ ржирж╛**ред

> ржПржЯрж╛ ржЕржирзЗржХржЯрж╛ ржжрж░ржЬрж╛ ржЦрзБрж▓рзЗ ржЖржмрж╛рж░ ржмржирзНржз ржХрж░рзЗ ржжрзЗржЦрж╛ тАФ ржпрзЗ ржжрж░ржЬрж╛рж░ рж▓ржХржЯрж╛ ржарж┐ржХржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗ ржХрж┐ржирж╛ред
> React ржЖржкржирж╛рж░ effect-ржХрзЗ **ржЬрзЛрж░ ржХрж░рзЗ ржПржХржмрж╛рж░ ржмржирзНржз ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛рзЯ**, ржпрзЗржи ржжрзЗржЦрзЗ ржЖржкржирж╛рж░ cleanup ржарж┐ржХржарж╛ржХ ржХрж╛ржЬ ржХрж░ржЫрзЗ ржХрж┐ ржирж╛ред

### тЬЕ "Effect ржкрзБржирж░рж╛рзЯ sync рж╣рждрзЗ ржкрж╛рж░рзЗ" тАУ ржПрж░ ржорж╛ржирзЗ?

"Effect ржкрзБржирж░рж╛рзЯ synchronize" ржорж╛ржирзЗ:

- ржЖржЧрзЗрж░ ржХрж┐ржЫрзБ ржмржирзНржз ржХрж░рзЗ ржжрзЗржУрзЯрж╛ (cleanup)
- рждрж╛рж░ржкрж░ ржирждрзБржиржнрж╛ржмрзЗ ржЖржмрж╛рж░ рж╢рзБрж░рзБ ржХрж░рж╛ (connect)

React ржПржЯрж╛ ржХрж░рзЗ ржпржЦржи:

1. `roomId` ржмржжрж▓рж╛рзЯ (ржпрзЗржоржи general тЖТ travel тЖТ music)
2. `serverUrl` ржмржжрж▓рж╛рзЯ
3. ржмрж╛ component ржХрзЗ remount ржХрж░рждрзЗ рж╣рзЯ (ржпрзЗржоржи ржЪрзНржпрж╛ржЯ ржХрзНрж▓рзЛржЬ ржХрж░рзЗ ржЖржмрж╛рж░ ржУржкрзЗржи ржХрж░рж▓рзЗ)

### тЪЩя╕П рж░рж┐-Sync ржХрзЗржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг?

ржЖржкржирж╛рж░ Effect-ржПрж░ ржХрж╛ржЬ ржпржжрж┐ ржПржХржЯрж╛ ржмрж╛рж╣рзНржпрж┐ржХ рж╕ржВржпрзЛржЧ ржмрж╛ resource-ржПрж░ рж╕рж╛ржерзЗ ржпрзБржХрзНржд рж╣рзЯ (ржпрзЗржоржи: API call, WebSocket, chat room connection) тАФ рждрж╛рж╣рж▓рзЗ рж╕рзЗржЗ рж╕ржВржпрзЛржЧ ржарж┐ржХржнрж╛ржмрзЗ ржмржирзНржз ржХрж░рзЗ ржирждрзБржи ржХрж░рзЗ рж╢рзБрж░рзБ ржХрж░рж╛ ржЬрж░рзБрж░рж┐ред

React ржЪрж╛рзЯ ржЖржкржирж┐ ржПрж░ржХржо рж╕ржВржмрзЗржжржирж╢рзАрж▓ ржХрзЛржбрзЗ ржнрзБрж▓ ржирж╛ ржХрж░рзЗржи, рждрж╛ржЗ ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ ржорзЛржбрзЗ ржжрзБржЗржмрж╛рж░ ржЪрж╛рж▓рж┐рзЯрзЗ ржжрзЗржЦрзЗ ржирзЗрзЯ рж╕ржм ржарж┐ржХ ржЖржЫрзЗ ржХрж┐ржирж╛ред

---

### ЁЯза ржоржирзЗ рж░рж╛ржЦржмрзЗржи:

- ржЖржкржирж┐ ржпржжрж┐ ржЖржкржирж╛рж░ `useEffect`-ржПрж░ ржнрж┐рждрж░рзЗ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ `return () => {}` ржжрж┐рзЯрзЗ cleanup ржжрзЗржи, рждрж╛рж╣рж▓рзЗ ржПржЗ "double run" ржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ ржХрж░ржмрзЗ ржирж╛ред
- **Production mode**-ржП React ржПржХржмрж╛рж░ржЗ ржЪрж╛рж▓рж╛ржмрзЗред ржПржЗ double-run рж╢рзБржзрзБ dev ржорзЛржбрзЗ testing/checking ржПрж░ ржЬржирзНржпред

---

### ЁЯУМ ржЙржкрж╕ржВрж╣рж╛рж░:

React ржирж┐рж╢рзНржЪрж┐ржд рж╣рждрзЗ ржЪрж╛рзЯ:

> "ржЖржкржирж╛рж░ Effect ржарж┐ржХржнрж╛ржмрзЗ ржмржирзНржз рж╣рзЯ ржПржмржВ ржЖржмрж╛рж░ ржЪрж╛рж▓рзБ рж╣рждрзЗ ржкрж╛рж░рзЗ тАФ рж╕рзЗржЯрж╛ `roomId` ржмржжрж▓рж╛ржирзЛрж░ рж╕ржорзЯржЗ рж╣рзЛржХ, ржмрж╛ dev ржорзЛржбрзЗ React ржирж┐ржЬрзЗ ржЗржЪрзНржЫрж╛ ржХрж░рзЗ рж╕рзЗржЯрж╛ restart ржХрж░рзБржХред"

ржПржЗ ржХрж╛рж░ржгрзЗржЗ `useEffect` рж▓рзЗржЦрж╛рж░ рж╕ржорзЯ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ **"start" ржПржмржВ "stop"** behavior handle ржХрж░рж╛ рж╢рзЗржЦрж╛ ржЬрж░рзБрж░рж┐ред

ржЕржмрж╢рзНржпржЗ ржнрж╛ржЗ, ржирж┐ржЪрзЗ **Section 2.5: "How React knows that it needs to re-synchronize the Effect"** ржЕржВрж╢ржЯрж┐ржХрзЗ ржмрж╛ржВрж▓рж╛рзЯ рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж▓рж╛ржо:

---

## Section 2.5: React ржХрзАржнрж╛ржмрзЗ ржмрзЛржЭрзЗ ржпрзЗ Effect-ржХрзЗ ржкрзБржирж░рж╛рзЯ ржЪрж╛рж▓рж╛ржирзЛ (re-synchronize) ржжрж░ржХрж╛рж░

### тЭУржкрзНрж░рж╢рзНржи: `roomId` ржмржжрж▓рж╛рж▓рзЗ React ржХрзАржнрж╛ржмрзЗ ржмрзБржЭрж▓рзЛ Effect ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛рждрзЗ рж╣ржмрзЗ?

**ржЙрждрзНрждрж░:**
ржХрж╛рж░ржг **ржЖржкржирж┐ржЗ React-ржХрзЗ ржмрж▓рзЗ ржжрж┐рзЯрзЗржЫрзЗржи** ржпрзЗ ржПржЗ Effect-ржПрж░ ржХрж╛ржЬржЯрж╛ `roomId`-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗред ржЖржкржирж┐ `useEffect(..., [roomId])`-ржП **dependency array** рждрзЗ `roomId` ржпрзБржХрзНржд ржХрж░рзЗржЫрзЗржиред

```js
function ChatRoom({ roomId }) {
  // roomId ржкрзНрж░ржкржЯрж┐ рж╕ржорзЯрзЗрж░ рж╕рж╛ржерзЗ ржмржжрж▓рж╛рждрзЗ ржкрж╛рж░рзЗ
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // ржПржЗ Effect-ржПрж░ ржнрж┐рждрж░рзЗ roomId ржмрзНржпржмрж╣рж╛рж░ рж╣ржЪрзНржЫрзЗ
    connection.connect();
    return () => {
      connection.disconnect(); // ржкрж░рж┐рж╖рзНржХрж╛рж░ржнрж╛ржмрзЗ disconnect ржХрж░рж╛рж░ logic
    };
  }, [roomId]); // рждрж╛ржЗ dependency рж╣рж┐рж╕рзЗржмрзЗ roomId ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ
}
```

### тЪЩя╕П ржПржЯрж┐ ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

1. ржЖржкржирж┐ ржЬрж╛ржирзЗржи `roomId` ржПржХржЯрж╛ prop тАФ ржЕрж░рзНржерж╛рзО ржПржЯрж┐ рж╕ржорзЯрзЗрж░ рж╕рж╛ржерзЗ ржмржжрж▓рж╛рждрзЗ ржкрж╛рж░рзЗред
2. ржЖржкржирж┐ `useEffect`-ржПрж░ ржнрж┐рждрж░рзЗ `roomId` ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗржи тАФ ржХрж╛ржЬрзЗржЗ ржПржЗ Effect `roomId`-ржПрж░ ржЙржкрж░рзЗ ржирж┐рж░рзНржнрж░ ржХрж░ржЫрзЗред
3. рждрж╛ржЗ ржЖржкржирж┐ dependency array-ржП `[roomId]` ржжрж┐рзЯрзЗржЫрзЗржи, ржпрзЗржи React ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ `roomId` ржмржжрж▓рж╛рж▓рзЗ Effect-ржЯрж┐ **ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛рждрзЗ рж╣ржмрзЗред**

---

### ЁЯФБ React ржХрзАржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржЪрзЗржХ ржХрж░рзЗ?

- ржкрзНрж░рждрж┐ржмрж╛рж░ ржпржЦржи ржЖржкржирж╛рж░ component **re-render** рж╣рзЯ, React ржЪрзЗржХ ржХрж░рзЗ ржЖржкржирж┐ `useEffect(..., [roomId])` ржП ржпрзЗ value ржЧрзБрж▓рзЛ ржжрж┐рзЯрзЗржЫрзЗржи рж╕рзЗржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ **ржХрзЛржирзЛржЯрж╛ ржмржжрж▓рзЗржЫрзЗ ржХрж┐ржирж╛**ред
- React ржПржЗ рждрзБрж▓ржирж╛ ржХрж░рзЗ `Object.is()` ржжрж┐рзЯрзЗред

**ржЙржжрж╛рж╣рж░ржг:**

1. ржкрзНрж░ржержоржмрж╛рж░ ржЖржкржирж┐ `[roomId]` = `["general"]` ржжрж┐рж▓рзЗржи
2. ржкрж░рзЗрж░ржмрж╛рж░ ржЖржкржирж┐ `[roomId]` = `["travel"]` ржжрж┐рж▓рзЗржи

React рждрзБрж▓ржирж╛ ржХрж░ржмрзЗ:

```js
Object.is("general", "travel"); // false
```

рждрж╛ржЗ React ржмрзБржЭржмрзЗ value ржмржжрж▓рзЗржЫрзЗ тЖТ Effect ржХрзЗ **re-run** ржХрж░ржмрзЗред

**ржХрж┐ржирзНрждрзБ ржпржжрж┐ ржорж╛ржи ржирж╛ ржмржжрж▓рж╛рзЯ** (ржпрзЗржоржи ржЖржмрж╛рж░ `"general"` рж╣рзЯ), рждрж╛рж╣рж▓рзЗ Effect ржЪрж▓ржмрзЗ ржирж╛ тАФ ржЖржЧрзЗрж░ ржЕржмрж╕рзНржерж╛рзЯржЗ ржерж╛ржХржмрзЗред

---

### ЁЯза ржоржирзЗ рж░рж╛ржЦржмрзЗржи:

> Dependency array ржарж┐ржХржарж╛ржХ ржирж╛ ржжрж┐рж▓рзЗ рж╣рзЯрждрзЛ Effect ржкрзБрж░ржирзЛ ржбрзЗржЯрж╛ ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗ ржмрж╛ ржХржЦржирзЛржЗ ржЪрж▓ржмрзЗ ржирж╛ред

---

### тЬЕ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

| ржШржЯржирж╛                              | React ржХрзА ржХрж░рзЗ?                                   |
| --------------------------------- | ----------------------------------------------- |
| dependency array-ржП ржерж╛ржХрж╛ ржорж╛ржи ржмржжрж▓рж╛рзЯ | Effect cleanup ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛рзЯ                   |
| ржорж╛ржи ржмржжрж▓рж╛рзЯ ржирж╛                      | ржЖржЧрзЗрж░ Effect ржЪрж▓рждрзЗ ржерж╛ржХрзЗ                           |
| dependency ржирж╛ ржжрж┐рж▓рзЗ                | React ржмрзЛржЭрзЗ ржирж╛ ржХржЦржи ржЪрж╛рж▓рж╛рждрзЗ рж╣ржмрзЗ тАФ **Bug** рж╣рждрзЗ ржкрж╛рж░рзЗ |

---

ржЖржкржирж┐ ржпржжрж┐ ржЪрж╛ржи ржЖржорж┐ ржПржЯрж╛ ржирж┐рзЯрзЗ рж░рж┐рзЯрзЗрж▓ рж▓рж╛ржЗржл ржЙржжрж╛рж╣рж░ржгрж╕рж╣ ржЖрж░ржУ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж┐ (ржпрзЗржоржи: API call, socket connection, authentication token change ржЗрждрзНржпрж╛ржжрж┐), ржмрж▓рж▓рзЗржЗ ржХрж░рзЗ ржжрзЗржм ржнрж╛ржЗред тЬи

## Section 2.5: ржкрзНрж░рждрж┐ржЯрж┐ Effect ржорж╛ржирзЗ ржПржХржЯрж┐ ржЖрж▓рж╛ржжрж╛ рж╕рж┐ржЩрзНржХрзНрж░рзЛржирж╛ржЗржЬрзЗрж╢ржи ржкрзНрж░рж╕рзЗрж╕

### ЁЯЪл ржнрзБрж▓ ржзрж╛рж░ржгрж╛: рж╕ржмржХрж┐ржЫрзБ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж╛ржЗ Effect-ржП рж▓рзЗржЦрж╛ ржЙржЪрж┐ржд

ржЕржирзЗржХ рж╕ржорзЯ ржЖржорж░рж╛ ржжрзЗржЦрж┐ ржХрзЛржирзЛ ржХрж╛ржЬ ржПржХрж╕рж╛ржерзЗ "ржПржХржЗ рж╕ржорзЯрзЗ" рж╣рзЯ, рждрж╛ржЗ ржнрзЗржмрзЗ ржирж┐ржЗ рж╕рзЗржЧрзБрж▓рзЛржХрзЗ ржПржХржЗ `useEffect`-ржП рж▓рж┐ржЦрзЗ ржлрзЗрж▓рж▓рзЗржЗ ржнрж╛рж▓рзЛред

ржзрж░рзБржи, ржЖржкржирж┐ ржЪрж╛ржи:

1. ржЗржЙржЬрж╛рж░ ржпржЦржи ржирждрзБржи chat room-ржП ржпрж╛рзЯ, рждржЦржи **analytics**-ржП log ржХрж░рж╛ рж╣рзЛржХ
2. ржПржХржЗ рж╕ржорзЯрзЗ, ржЖржкржирж┐ **server-ржПрж░ рж╕рж╛ржерзЗ connection** ржХрж░рж╛ржЪрзНржЫрзЗржи

рждржЦржи рж╣рзЯрждрзЛ ржПржоржи ржХрзЛржб рж▓рж┐ржЦржмрзЗржи:

```js
useEffect(() => {
  logVisit(roomId); // log ржХрж░ржЫрзЗ
  const connection = createConnection(serverUrl, roomId); // connect ржХрж░ржЫрзЗ
  connection.connect();
  return () => connection.disconnect();
}, [ServerUrl, roomId]);
```

**тЭМ ржХрж┐ржирзНрждрзБ ржПржЯрж╛ ржарж┐ржХ ржирзЯред ржХрж╛рж░ржг:**
ржПржЦрж╛ржирзЗ ржжрзБржЯрзЛ ржнрж┐ржирзНржи ржХрж╛ржЬ- рж╕рж╛рж░рзНржнрж╛рж░ ржЪрзЗржЮрзНржЬ рж╣рж▓рзЗржУ ржЖржорж░рж╛ ржжрзЗржЦржм, ржЗржЙржЬрж╛рж░ ржЬрзЗржирж╛рж░рзЗрж▓ рж░рзБржорзЗ ржнрж┐ржЬрж┐ржЯ ржХрж░ржЫрзЗржиред ржпрж╛ ржарж┐ржХ ржирзЯ, ржЗржЙржЬрж╛рж░ ржЕрж▓рж░рзЗржбрж┐ ржЖржЫрзЗржиред

(analytics log + server connect) ржПржХрж╕рж╛ржерзЗ рж▓рж┐ржЦрзЗ ржлрзЗрж▓рзЗржЫрзЗржиред ржнржмрж┐рж╖рзНржпрждрзЗ ржпржжрж┐ ржЖржкржирж┐ ржЕржирзНржп ржХрж┐ржЫрзБрж░ ржХрж╛рж░ржгрзЗ ржПржЗ Effect-ржП ржирждрзБржи dependency ржпрзЛржЧ ржХрж░рзЗржи, рждржЦржи `logVisit()` ржЕржкрзНрж░рзЯрзЛржЬржирзЗ ржЖржмрж╛рж░ ржЪрж╛рж▓рзБ рж╣рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ тАФ ржпрзЗржЯрж╛ ржЖржкржирж┐ ржЪрж╛ржи ржирж╛ред

---

### тЬЕ рж╕ржарж┐ржХ ржЙржкрж╛рзЯ: Effect-ржХрзЗ ржнрж╛ржЧ ржХрж░рзЗ ржирзЗржУрзЯрж╛

ржпрзЗрж╣рзЗрждрзБ `logVisit(roomId)` ржПржмржВ `createConnection(...)` ржжрзБржЯрж┐ **ржЖрж▓рж╛ржжрж╛ ржкрзНрж░рж╕рзЗрж╕**, рждрж╛ржЗ ржкрзНрж░рждрж┐ржЯрж╛ржХрзЗ ржЖрж▓рж╛ржжрж╛ `useEffect`-ржП рж▓рж┐ржЦрзБржи:

```js
useEffect(() => {
  logVisit(roomId); // рж╢рзБржзрзБ logVisit ржПрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ Effect
}, [roomId]);

useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect(); // рж╢рзБржзрзБ connection ржПрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ Effect
}, [ServerUrl, roomId]);
```

---

### ЁЯФС ржорзВрж▓ ржкрзЯрзЗржирзНржЯ:

> **ржкрзНрж░рждрж┐ржЯрж┐ `useEffect` рж╣ржЪрзНржЫрзЗ ржПржХрзЗржХржЯрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж╛ржЬрзЗрж░ (synchronization process) controllerред**

**ржнрж╛рж▓рзЛ ржЪрж┐рж╣рзНржи ржХрзА?**
ржпржжрж┐ ржЖржкржирж┐ ржПржХржЯрж┐ Effect ржбрж┐рж▓рж┐ржЯ ржХрж░рзЗржи, ржЕржирзНржп Effect ржарж┐ржХржарж╛ржХ ржХрж╛ржЬ ржХрж░рзЗ тАФ рждрж╛рж╣рж▓рзЗ ржмрзБржЭржмрзЗржи ржУрж░рж╛ ржПржХрзЗ ржЕржкрж░рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ ржирж╛, рждрж╛ржЗ ржЖрж▓рж╛ржжрж╛ рж▓рзЗржЦрж╛ ржЙржЪрж┐рждред

---

### ЁЯУМ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржирж┐рзЯржо:

| ржнрзБрж▓                                | ржарж┐ржХ                                        |
| ---------------------------------- | ------------------------------------------ |
| ржПржХрж╛ржзрж┐ржХ ржХрж╛ржЬ ржПржХ Effect-ржП рж▓рзЗржЦрж╛        | ржкрзНрж░рждрж┐ржЯрж┐ ржХрж╛ржЬ ржЖрж▓рж╛ржжрж╛ Effect-ржП                 |
| рж╢рзБржзрзБ "ржХрзЛржб ржжрзЗржЦрждрзЗ ржЫрзЛржЯ" рждрж╛ржЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛ | ржмрзБржЭрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛ тАФ ржХрж╛ржЬ ржЖрж▓рж╛ржжрж╛ ржХрж┐ржирж╛ ржжрзЗржЦрзЗ       |
| ржПржХ Effect-ржП рж╕ржм ржХрж╛ржЬ ржЧрзБржБржЬрзЗ ржлрзЗрж▓рж╛      | ржкрзНрж░рждрж┐ржЯрж┐ Effect рж╣ржЪрзНржЫрзЗ ржПржХрзЗржХржЯрж╛ ржжрж╛рзЯрж┐рждрзНржмрж╢рзАрж▓ рж▓рзЛржХ |

---

### ЁЯОп ржмрж╛ржВрж▓рж╛рзЯ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

> "ржПржХржЬржи ржорж╛ржирзБрж╖ ржПржХрж╕рж╛ржерзЗ ржЪрж╛ ржмрж╛ржирж╛ржмрзЗ, ржЖржмрж╛рж░ ржЕржлрж┐рж╕рзЗрж░ attendance-ржУ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░рзЗ рж▓рж┐ржЦржмрзЗ тАФ ржПржЯрж╛ ржарж┐ржХ ржирж╛ред
> ржЪрж╛ ржмрж╛ржирж╛ржирзЛ ржЖрж░ attendance рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ ржХрж░рж╛, ржжрзБржЗржЬржи ржЖрж▓рж╛ржжрж╛ рж▓рзЛржХ ржжрж┐рж▓рзЗржЗ ржХрж╛ржЬ ржЧрзБржЫрж╛ржирзЛ рж╣рзЯред"

ржарж┐ржХ React-ржПржУ рждрж╛ржЗ тАФ ржкрзНрж░рждрж┐ржЯрж┐ Effect ржЖрж▓рж╛ржжрж╛ ржжрж╛рзЯрж┐рждрзНржмрзЗ ржерж╛ржХрзБржХред

---

ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ ржПржЗ ржЙржжрж╛рж╣рж░ржгржЯрж╛ ржмрж╛рж╕рзНрждржм app context (ржпрзЗржоржи Firebase auth, notifications, ржмрж╛ API fetch) ржжрж┐рзЯрзЗржУ ржмрзБржЭрж┐рзЯрзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ ржнрж╛ржЗред ржмрж▓рж▓рзЗржЗ ржХрж░рзЗ ржжрзЗржм тЭдя╕П

## ЁЯУШ Section 3: Effect "react" ржХрж░рзЗ ржХрж╛ржжрзЗрж░ ржЙржкрж░?

### ЁЯФН рж╕ржорж╕рзНржпрж╛:

```js
const serverUrl = "https://localhost:1234";
```

ржПржЗ ржнрзНржпрж╛рж▓рзБ `useEffect`-ржПрж░ ржнрж┐рждрж░рзЗ ржмрзНржпржмрж╣рзГржд рж╣ржЪрзНржЫрзЗ, ржХрж┐ржирзНрждрзБ `useEffect`-ржПрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЕрзНржпрж╛рж░рзЗрждрзЗ ржПржЯрж╛ ржирзЗржЗ:

```js
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, [roomId]); // serverUrl ржирзЗржЗ!
```

### тЭУ рждрж╛рж╣рж▓рзЗ `serverUrl` ржХрзЗржи ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржирзЯ?

ржХрж╛рж░ржг `serverUrl` рж╣ржЪрзНржЫрзЗ ржПржХржЯрж╛ **non-reactive value**ред ржПржЯрж╛ ржХржорзНржкрзЛржирзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░ рж╣ржмрж╛рж░ рж╕ржорзЯ ржмржжрж▓рж╛рзЯ ржирж╛ред рждрж╛ржЗ ржПржЯрж╛ `useEffect` ржПрж░ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЕрзНржпрж╛рж░рзЗрждрзЗ рж░рж╛ржЦрж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗред

---

### тЪая╕П ржХрж┐ржирзНрждрзБ `roomId` ржХрж┐ reactive?

рж╣рзНржпрж╛ржБ! `roomId` рж╣рж▓рзЛ **prop** тАФ ржПржЯрж┐ ржкрзНрж░рждрж┐ рж░рзЗржирзНржбрж╛рж░рзЗ ржмржжрж▓рж╛рждрзЗ ржкрж╛рж░рзЗред рждрж╛ржЗ ржПржЯрж┐ рж╣ржЪрзНржЫрзЗ **reactive value**, ржПржмржВ рждрж╛ржЗ ржПржЯрж┐ржХрзЗ `[roomId]` ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЕрзНржпрж╛рж░рзЗрждрзЗ рж░рж╛ржЦрждрзЗ рж╣рзЯред

---

### ЁЯзк ржпржжрж┐ `serverUrl` рж╣рзЯ state?

```js
const [serverUrl, setServerUrl] = useState("https://localhost:1234");
```

рждрж╛рж╣рж▓рзЗ ржПржЯрж┐ ржПржХржЯрж┐ **reactive value** рж╣рзЯрзЗ ржпрж╛рзЯред ржорж╛ржирзЗ, ржЗржЙржЬрж╛рж░ ржпржжрж┐ input ржжрж┐рзЯрзЗ ржПржЯрж╛ржХрзЗ ржмржжрж▓рж╛рзЯ, рждрж╛рж╣рж▓рзЗ `useEffect`-ржХрзЗ ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛рждрзЗ рж╣ржмрзЗ ржирждрзБржи `serverUrl` ржЕржирзБржпрж╛рзЯрзАред

```js
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, [roomId, serverUrl]); // ржПржмрж╛рж░ ржжрзБржЯрзЛржЗ reactive, рждрж╛ржЗ ржжрзБржЯрзЛржЗ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐
```

---

## ЁЯза ржоржирзЗ рж░рж╛ржЦрзЛ:

| ржорж╛ржи ржХрзЛржерж╛ ржерзЗржХрзЗ ржЖрж╕рзЗ?       | reactive ржХрж┐ржирж╛? | useEffect ржП dependency рж╣ржмрзЗ? |
| ------------------------ | -------------- | --------------------------- |
| ржкрзНрж░ржкрж╕ (props)            | тЬЕ рж╣рзНржпрж╛ржБ       | тЬЕ рж╣рзНржпрж╛ржБ                    |
| рж╕рзНржЯрзЗржЯ (state)            | тЬЕ рж╣рзНржпрж╛ржБ       | тЬЕ рж╣рзНржпрж╛ржБ                    |
| ржлрж╛ржВрж╢ржирзЗрж░ ржмрж╛ржЗрж░рзЗ ржбрж┐ржлрж╛ржЗржи ржХрж░рж╛ | тЭМ ржирж╛          | тЭМ ржирж╛ (ржпржжрж┐ ржирж╛ ржЪрзЗржЮрзНржЬ рж╣рзЯ)     |

---

## ЁЯОУ ржЙржкрж╕ржВрж╣рж╛рж░ (Section 3.1 hint):

"reactive value" ржмрж▓рждрзЗ ржмрзЛржЭрж╛рзЯ ржпрзЗрж╕ржм ржнрзНржпрж╛рж▓рзБ ржХржорзНржкрзЛржирзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛рж░ рж╕ржорзЯ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗ тАФ ржпрзЗржоржи: **props**, **state**, ржмрж╛ рж░рзЗржирзНржбрж╛рж░ ржлрж╛ржВрж╢ржирзЗрж░ ржнрж┐рждрж░рзЗ ржбрж┐ржХрзНрж▓рзЗрзЯрж╛рж░ ржХрж░рж╛ ржнрзНржпрж╛рж▓рзБред

---

ржЕржмрж╢рзНржпржЗ ржнрж╛ржЗ, ржирж┐ржЪрзЗрж░ ржЕржВрж╢ржЯрж╛ ржЖржорж┐ рж╕рж╣ржЬ ржмрж╛ржВрж▓рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржЫрж┐ тАФ ржпрзЗржи ржЖржкржирж┐ React-ржПрж░ `useEffect([])` ржПрж░ ржмрзНржпржмрж╣рж╛рж░ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗржиред

---

## ЁЯза Section 3.1: ржЦрж╛рж▓рж┐ `[]` dependencies ржХрзА ржмрзЛржЭрж╛рзЯ?

### ЁЯФН ржЙржжрж╛рж╣рж░ржг ржХрзЛржб:

```js
const serverUrl = "https://localhost:1234";
const roomId = "general";

function ChatRoom() {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, []); // тЬЕ ржЦрж╛рж▓рж┐ dependency ржорж╛ржирзЗ: рж╢рзБржзрзБ ржПржХржмрж╛рж░ ржЪрж▓ржмрзЗ
  return <h1>Welcome to the {roomId} room!</h1>;
}
```

---

## ЁЯЯв ржпржЦржи `useEffect([])` рж▓рзЗржЦрж╛ рж╣рзЯ, рждржЦржи ржХрзА рж╣рзЯ?

ЁЯСЙ ржЖржкржирж┐ ржпржЦржи `useEffect`-ржП **ржЦрж╛рж▓рж┐ `[]` ржжрзЗржи**, рждржЦржи ржПрж░ ржорж╛ржирзЗ рж╣ржЪрзНржЫрзЗ:

- ржПржЗ Effect **рж╢рзБржзрзБ ржПржХржмрж╛рж░ ржЪрж╛рж▓рзБ рж╣ржмрзЗ**, ржпржЦржи component **ржкрзНрж░ржержоржмрж╛рж░ рж░рзЗржирзНржбрж╛рж░** рж╣ржмрзЗ (mounting рж╕ржорзЯ)ред
- ржПржмржВ **component ржмржирзНржз рж╣рж▓рзЗ (unmount)** рждржЦржи **cleanup function** ржЪрж╛рж▓рж╛ржмрзЗ тАФ ржорж╛ржирзЗ disconnect ржХрж░ржмрзЗред

ЁЯФБ ржПржЗ Effect **ржЖржмрж╛рж░ ржЪрж╛рж▓рзБ рж╣ржмрзЗ ржирж╛** ржпрждржХрзНрж╖ржг ржирж╛ ржЖржкржирж┐ component ржЯрж╛ destroy ржХрж░рзЗ ржЖржмрж╛рж░ render ржХрж░рзЗржиред

---

## ЁЯФЧ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ ржмрзЛржЭрж╛ржЗ:

ржЖржкржирж╛рж░рж╛ рж╣рзЯрждрзЛ Firebase, socket.io, ржЕржержмрж╛ ржХрзЛржирзЛ API-рж░ рж╕рж╛ржерзЗ connection ржХрж░рзЗржиред

```js
useEffect(() => {
  connectToServer(); // тЬЕ рж╢рзБржзрзБ ржкрзНрж░ржержоржмрж╛рж░ рж╕ржВржпрзЛржЧ
  return () => disconnectFromServer(); // тЭМ ржпржЦржи ржмржирзНржз рж╣ржмрзЗ рждржЦржи ржбрж┐рж╕ржХрж╛ржирзЗржХрзНржЯ
}, []);
```

ржПржЗ pattern ржорж╛ржирзЗ: **"ржЖржорж┐ ржПржХржмрж╛рж░ рж╕ржВржпрзЛржЧ ржХрж░ржм, ржЖрж░ ржПржХржмрж╛рж░ ржбрж┐рж╕ржХрж╛ржирзЗржХрзНржЯ ржХрж░ржм"** тАФ ржПржмржВ рж╕рзЗржЯрж╛ component ржПрж░ ржЬрзАржмржиржЪржХрзНрж░рзЗрж░ рж╢рзБрж░рзБ ржЖрж░ рж╢рзЗрж╖рзЗ рж╣ржмрзЗред

---

## ЁЯза рждрж╛рж╣рж▓рзЗ ржХрзЗржи `[roomId]` ржирж╛ ржжрж┐рзЯрзЗ `[]` ржжрж┐рж▓рж╛ржо?

ржХрж╛рж░ржг ржПржЗ ржЙржжрж╛рж╣рж░ржгрзЗ:

```js
const serverUrl = "https://localhost:1234";
const roomId = "general";
```

ЁЯСЙ ржПрж░рж╛ **reactive ржирж╛** тАФ ржорж╛ржирзЗ `props`, `state`, ржмрж╛ context ржерзЗржХрзЗ ржЖрж╕рзЗржирж┐ред ржПржЧрзБрж▓рзЛ **component ржПрж░ ржмрж╛ржЗрж░рзЗ** declare ржХрж░рж╛ тАФ рждрж╛ржЗ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ ржирж╛ред

ржПржЗ ржХрж╛рж░ржгрзЗ `useEffect([])` ржжрж┐рзЯрзЗржЗ safe тАФ ржХрж╛рж░ржг ржХрзЛржирзЛ reactive ржорж╛ржирзЗ depend ржХрж░ржЫрзЗ ржирж╛ред

---

## ЁЯзй ржХрж┐ржирзНрждрзБ ржнржмрж┐рж╖рзНржпрждрзЗ ржпржжрж┐ roomId ржмрж╛ serverUrl dynamic рж╣рзЯ?

ржзрж░рзБржи ржЖржкржирж┐ ржЗржЙржЬрж╛рж░ржХрзЗ allow ржХрж░рж▓рзЗржи roomId ржмржжрж▓рж╛рждрзЗ:

```js
function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]); // тЬЕ ржПржЦржи ржПржЯрж╛ reactive рждрж╛ржЗ dependency ржпрзЛржЧ ржХрж░рж▓рж╛ржо
}
```

ржПржЦржи ржЖржкржирж╛рж░ ржХрзЛржбрзЗрж░ **ржорзВрж▓ ржХрж╛ржЬ ржПржХржЗ ржерж╛ржХрж▓рзЛ**, рж╢рзБржзрзБ dependency array-ржП `roomId` ржпрзБржХрзНржд ржХрж░рж▓рзЗржиред

---

## тЬЕ ржорзВрж▓ ржкрзЯрзЗржирзНржЯ ржмрж╛ржВрж▓рж╛рзЯ:

| ржмрж┐рж╖рзЯ               | ржЕрж░рзНрже                                                                                           |
| ------------------ | ---------------------------------------------------------------------------------------------- |
| `useEffect([])`    | рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржмрж╛рж░ ржЪрж╛рж▓рж╛ржмрзЗ ржпржЦржи component рждрзИрж░рж┐ рж╣рзЯ                                                   |
| dependency ржирж╛ ржжрж┐рж▓рзЗ | React ржмрзБржЭржмрзЗ ржирж╛ ржХржмрзЗ effect ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛ржирзЛ ржжрж░ржХрж╛рж░                                                    |
| future-proof       | ржпржжрж┐ ржкрж░рзЗрж░ ржмрж╛рж░ `roomId` ржмрж╛ `serverUrl` reactive рж╣рзЯ, рждржЦржи рж╢рзБржзрзБ dependency array-ржП ржпрзБржХрзНржд ржХрж░рж▓рзЗржЗ ржЪрж▓ржмрзЗ |

---

ржирж┐ржЪрзЗ Section 3.2: **ржХржорзНржкрзЛржирзЗржирзНржЯ ржмржбрж┐рждрзЗ ржбрж┐ржХрзНрж▓рзЗрзЯрж╛рж░ ржХрж░рж╛ рж╕ржм ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ржЗ reactive рж╣рзЯ** тАФ ржПржЗ ржЕржВрж╢ржЯрж┐ржХрзЗ ржЖржорж┐ рж╕рж╣ржЬ ржмрж╛ржВрж▓рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржЫрж┐, ржпрзЗржи рждрзЛржорж╛рж░ React ржмржЗрзЯрзЗрж░ ржмрж╛ржВрж▓рж╛ рж╕ржВрж╕рзНржХрж░ржгрзЗ ржПржЯрж┐ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ ржХрж╛ржЫрзЗ ржкрж░рж┐рж╖рзНржХрж╛рж░ржнрж╛ржмрзЗ ржкрзМржБржЫрж╛рзЯред

---

## ЁЯУШ Section 3.2: ржХржорзНржкрзЛржирзЗржирзНржЯ ржмржбрж┐рждрзЗ ржбрж┐ржХрзНрж▓рзЗрзЯрж╛рж░ ржХрж░рж╛ рж╕ржм ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ржЗ Reactive

### тЬЕ ржорзВрж▓ ржзрж╛рж░ржгрж╛:

**`props` ржЖрж░ `state` ржЫрж╛рзЬрж╛ ржЖрж░ржУ ржЕржирзЗржХ ржХрж┐ржЫрзБржЗ reactive рж╣рждрзЗ ржкрж╛рж░рзЗред**
ржпрзЗржХрзЛржирзЛ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржпрж╛ рждрзБржорж┐ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрж┐рждрж░рзЗ рждрзИрж░рж┐ ржХрж░рзЛ ржПржмржВ ржпрзЗржЯрж┐ `props` ржмрж╛ `state` ржПрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржЧржарж┐ржд, рж╕рзЗржЯрж┐ржУ reactiveред ржХрж╛рж░ржг ржпржЦржи `props` ржмрж╛ `state` ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯ, ржХржорзНржкрзЛржирзЗржирзНржЯ ржЖржмрж╛рж░ рж░рзЗржирзНржбрж╛рж░ рж╣рзЯ тАФ рждржЦржи рж╕рзЗржЗ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ржЧрзБрж▓рзЛрж░ ржорж╛ржиржУ ржирждрзБржи ржХрж░рзЗ ржЧржгржирж╛ рж╣рзЯред

---

### ЁЯза ржЙржжрж╛рж╣рж░ржг:

```js
function ChatRoom({ roomId, selectedServerUrl }) {
  const settings = useContext(SettingsContext); // Context рж╣ржЪрзНржЫрзЗ reactive
  const serverUrl = selectedServerUrl ?? settings.defaultServerUrl; // ржПржЯрж┐ reactive
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, serverUrl]); // ржжрзБржЗржЯрж╛ reactive ржорж╛ржи ржПржЦрж╛ржирзЗ dependency рж╣рж┐рж╕рзЗржмрзЗ ржпрзБржХрзНржд ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ
}
```

#### ржмрзНржпрж╛ржЦрзНржпрж╛:

- `roomId` рж╣рж▓рзЛ **prop** тЖТ тЬЕ reactive
- `settings` рж╣рж▓рзЛ **context ржерзЗржХрзЗ ржкрж╛ржУрзЯрж╛ state** тЖТ тЬЕ reactive
- `serverUrl` рж╣ржЪрзНржЫрзЗ ржПржХржЯрж┐ **ржХржорзНржкрзЛржирзЗржирзНржЯ ржмржбрж┐рж░ ржнрж┐рждрж░рзЗ рждрзИрж░рж┐ ржХрж░рж╛ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓**, ржХрж┐ржирзНрждрзБ ржпрзЗрж╣рзЗрждрзБ ржПржЯрж╛ reactive values ржжрж┐рзЯрзЗ рждрзИрж░рж┐ рж╣рзЯрзЗржЫрзЗ (selectedServerUrl ржУ settings), рждрж╛ржЗ ржПржЯрж┐ ржирж┐ржЬрзЗржУ тЬЕ reactive

---

### тЪая╕П ржЬрж░рзБрж░рж┐ ржирж┐рзЯржо:

ЁЯФБ **React ржПрж░ Effect рж░рж┐-рж░рж╛ржи рж╣рзЯ рждржЦржиржЗ, ржпржЦржи dependency list-ржП ржерж╛ржХрж╛ ржХрзЛржи reactive ржорж╛ржи ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯред**

ЁЯз╛ рждрж╛ржЗ рждрзЛржорж╛рж░ `useEffect` ржпржжрж┐ ржХрзЛржи ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрж┐рждрж░рзЗрж░ ржорж╛ржи ржкрзЬрзЗ (ржпрзЗржЯрж╛ рж░рзЗржирзНржбрж╛рж░рж┐ржВрзЯрзЗрж░ рж╕ржорзЯ рждрзИрж░рж┐ рж╣рзЯ), рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж╛ `useEffect` ржПрж░ dependency list-ржП рж░рж╛ржЦрждрзЗ рж╣ржмрзЗред

---

## ЁЯТб ржПржХ ржХржерж╛рзЯ ржоржирзЗ рж░рж╛ржЦрзЛ:

ЁЯУМ **ржХржорзНржкрзЛржирзЗржирзНржЯ ржмржбрж┐рж░ ржнрж┐рждрж░рзЗ ржпржд ржорж╛ржи ржбрж┐ржХрзНрж▓рзЗрзЯрж╛рж░ ржХрж░рж╛ рж╣рзЯ (props, state, context, ржмрж╛ рждрж╛ржжрзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ рждрзИрж░рж┐ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓)тАФрж╕ржмржХрж┐ржЫрзБржЗ reactive!**

рждрж╛ржЗ Effect ржП ржпржжрж┐ рждрзБржорж┐ ржПржЧрзБрж▓рзЛрж░ ржХрзЛржиржЯрж┐ржХрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ, рждрж╛рж╣рж▓рзЗ рждрж╛ dependency list-ржП рж░рж╛ржЦрж╛ ржмрж╛ржзрзНржпрждрж╛ржорзВрж▓ржХред

---

## тЭМ ржХрзЛржи ржорж╛ржиржЧрзБрж▓рзЛ reactive ржирж╛?

React ржПрж░ рж░рзЗржирзНржбрж╛рж░рж┐ржВ рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ ржмрж╛ржЗрж░рзЗ ржерзЗржХрзЗ ржЖрж╕рж╛ ржпрзЗрж╕ржм ржорж╛ржи ржЖржЫрзЗ, ржпрзЗржоржи:

### тЭМ Global Mutable Values:

```js
window.location.pathname; // ржПржЯрж╛ reactive ржирж╛
```

ржХрж╛рж░ржг ржПржЯрж╛ React ржПрж░ рж░рзЗржирзНржбрж╛рж░ рж╕рж╛ржЗржХрзЗрж▓ ржЕржирзБржпрж╛рзЯрзА ржмржжрж▓рж╛рзЯ ржирж╛ред рждрзБржорж┐ ржПржЯрж╛ dependency list-ржП рж░рж╛ржЦрж▓рзЗржУ React ржмрзБржЭржмрзЗ ржирж╛ ржХржЦржи ржПржЯрж╛ ржмржжрж▓рж╛рж▓рзЛред

ЁЯСЙ ржПржЗ ржзрж░ржирзЗрж░ ржорж╛ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ `useSyncExternalStore` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛред

---

### тЭМ Ref ржнрзНржпрж╛рж▓рзБ (mutable):

```js
ref.current; // ржПржЯрж╛ reactive ржирж╛
```

`ref.current` ржирж┐ржЬрзЗржЗ ржПржХржЯрж╛ **mutable object**ред ржПржЯрж┐ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рж▓рзЗржУ component рж░рзЗржирзНржбрж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ рж╣рзЯ ржирж╛, рждрж╛ржЗ `useEffect` ржП dependency рж╣рж┐рж╕рзЗржмрзЗ рж░рж╛ржЦрж▓рзЗ рж▓рж╛ржн ржирзЗржЗред

---

## ЁЯФН рж╢рзЗрж╖ ржХржерж╛:

тЬНя╕П рждрзБржорж┐ ржпржЦржиржЗ `useEffect` рж▓рж┐ржЦржмрзЗ, рж╕ржм рж╕ржорзЯ рж▓ржХрзНрж╖рзНржп рж░рж╛ржЦрзЛ рждрзЛржорж╛рж░ effect ржХрзЛржи ржорж╛ржиржЧрзБрж▓рзЛ ржкрзЬржЫрзЗред ржпржжрж┐ рж╕рзЗржЧрзБрж▓рзЛ reactive рж╣рзЯ (ржЕрж░рзНржерж╛рзО рж░рзЗржирзНржбрж╛рж░рзЗрж░ рж╕ржорзЯ ржмржжрж▓рж╛рждрзЗ ржкрж╛рж░рзЗ), рждрж╛рж╣рж▓рзЗ ржЕржмрж╢рзНржпржЗ `dependency array` рждрзЗ ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗред
ржЕржмрж╢рзНржпржЗ ржнрж╛ржЗ! ржЖржорж┐ Section 3.3 ржПрж░ ржПржЗ ржЕржВрж╢ржЯрж╛ ржмрж╛ржВрж▓рж╛рзЯ рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржЫрж┐ ржпрзЗржи ржЖржкржирж┐ ржкрзБрж░рзЛржкрзБрж░рж┐ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗржи:

---

## ЁЯФН Section 3.3:

### React ржХрж┐ржнрж╛ржмрзЗ ржЪрзЗржХ ржХрж░рзЗ ржЖржкржирж┐ рж╕ржм reactive value dependency рж╣рж┐рж╕рзЗржмрзЗ ржжрж┐рзЯрзЗржЫрзЗржи ржХрж┐ржирж╛

---

## ЁЯза рж╕ржорж╕рзНржпрж╛ржЯрж╛ ржХрзА?

ржПржЗ ржХрзЛржбрзЗ ржПржХржЯрж┐ ржнрзБрж▓ ржЖржЫрзЗ:

```js
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, []); // тЭМ ржПржЦрж╛ржирзЗ рж╕ржорж╕рзНржпрж╛!
```

ржПржЗ `useEffect`-ржП dependency array ржЦрж╛рж▓рж┐ `[]`, ржЕржержЪ ржнрж┐рждрж░рзЗрж░ ржХрзЛржбрзЗ `serverUrl` ржЖрж░ `roomId` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ тАФ ржпрзЗржЧрзБрж▓рзЛ _reactive values_ (ржорж╛ржирзЗ, ржнржмрж┐рж╖рзНржпрждрзЗ ржмржжрж▓рж╛рждрзЗ ржкрж╛рж░рзЗ)ред

---

## тЪая╕П рж╕ржорж╕рзНржпрж╛ ржХрзЗржи?

- `roomId` ржЖрж╕рзЗ props ржерзЗржХрзЗ: `function ChatRoom({ roomId })` тЖТ ржорж╛ржирзЗ ржПржЯрж╛ reactiveред
- `serverUrl` ржЖрж╕рзЗ `useState` ржерзЗржХрзЗ: `const [serverUrl, setServerUrl] = useState(...)` тЖТ ржПржЯрж╛ржУ reactiveред

ЁЯСЙ ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ `useEffect`-ржП ржмрж▓ржЫрзЗржи ржирж╛ ржпрзЗ ржПржЗ ржжрзБржЗржЯрж╛рж░ ржЙржкрж░ depend ржХрж░рзЗ тАФ рждрж╛ржЗ React ржзрж░рзЗ ржирж┐ржЪрзНржЫрзЗ ржПржжрзЗрж░ ржорж╛ржи ржХржЦржирзЛ ржмржжрж▓рж╛ржмрзЗ ржирж╛ред

---

## ЁЯРЮ ржПрж░ ржлрж▓рзЗ ржХрзА рж╕ржорж╕рзНржпрж╛ рж╣рзЯ?

ржзрж░рзБржи ржЗржЙржЬрж╛рж░ `roomId` ржмрж╛ `serverUrl` ржмржжрж▓рж╛рж▓рзЛред
ржХрж┐ржирзНрждрзБ `useEffect`-ржП ржПржЗ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржХрзЛржирзЛ рж╣ржжрж┐рж╕ ржирзЗржЗ тАФ рждрж╛ржЗ connection **ржкрзБрж░рзЛржирзЛ room/server**-ржП рж░рзЯрзЗ ржпрж╛ржмрзЗред
React ржХрзЛржирзЛ ржирждрзБржи connection ржХрж░ржмрзЗ ржирж╛, ржХрзЛржирзЛ disconnect-ржУ ржирж╛ред

тЮбя╕П ржлрж▓рзЗ ржЗржЙржЬрж╛рж░ ржХрж┐ржЫрзБ ржмржжрж▓рж╛рж▓рзЗржУ, React ржЖржЧрзЗрж░ржЯрж╛ржЗ ржЪрж╛рж▓рж┐рзЯрзЗ ржпрж╛ржмрзЗ тАФ ржПржЯрж╛ ржПржХржЯрж╛ bug!

---

## ЁЯЫая╕П рж╕ржарж┐ржХ рж╕ржорж╛ржзрж╛ржи ржХрзА?

**рж╕ржм reactive value ржХрзЗ dependency array-ржП рж▓рж┐ржЦрзЗ ржжрж┐ржи:**

```js
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, [serverUrl, roomId]); // тЬЕ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи!
```

ржПржЦржи ржпрж╛ рж╣ржмрзЗ:

- ржпржЦржиржЗ `serverUrl` ржмрж╛ `roomId` ржмржжрж▓рж╛ржмрзЗ, React Effect ржЯрж╛ **ржЖржЧрзЗрж░ржЯрж╛ ржмржирзНржз ржХрж░рзЗ** ржЖржмрж╛рж░ ржирждрзБржи ржХрж░рзЗ ржЪрж╛рж▓рж╛ржмрзЗред
- рждрж╛ржЗ ржирждрзБржи room/server ржЕржирзБржпрж╛рзЯрзА connection рж╣ржмрзЗред

---

## ЁЯдЦ React ржХрж┐ржнрж╛ржмрзЗ ржПржЗ ржнрзБрж▓ ржзрж░рждрзЗ ржкрж╛рж░рзЗ?

React ржирж┐ржЬрзЗ ржирж╛, ржмрж░ржВ **linter (ESLint + React plugin)** ржЖржкржирж╛ржХрзЗ warning ржжрзЗрзЯ:

> "You used `roomId` and `serverUrl` inside useEffect, but didnтАЩt declare them in dependencies."

ЁЯСЙ ржЖржкржирж┐ ржпржжрж┐ VS Code-ржП React lint setup ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ ржПржоржи warning ржкрж╛ржмрзЗржиред

[Editor setup ржЧрж╛ржЗржб ржжрзЗржЦрждрзЗ ржПржЦрж╛ржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи ┬╗](https://react.dev/learn/editor-setup#linting)

---

## ЁЯОп ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржЯрж┐ржкрж╕:

| тЭУ ржкрзНрж░рж╢рзНржи                            | тЬЕ ржЙрждрзНрждрж░                                                                                     |
| ------------------------------------ | -------------------------------------------------------------------------------------------- |
| ржХржмрзЗ dependency array-ржП ржорж╛ржи ржжрж┐рждрзЗ рж╣ржмрзЗ? | ржпржЦржи `useEffect` ржПрж░ ржнрж┐рждрж░ ржХрзЛржи **reactive value** (props, state, context, etc.) ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗржи   |
| ржХрзЛржи ржорж╛ржиржЧрзБрж▓рзЛ reactive ржирзЯ?             | ржпрзЗржоржи `setState` function ржмрж╛ `useRef()` ржПрж░ result тАУ ржПржЧрзБрж▓рзЛ stable, рждрж╛ржЗ dependency ржирж╛ ржжрж┐рж▓рзЗржУ рж╣ржмрзЗ |
| dependency ржирж╛ ржжрж┐рж▓рзЗ ржХрзА рж╣ржмрзЗ?           | React ржЬрж╛ржиржмрзЗ ржирж╛ ржХржмрзЗ ржЖржмрж╛рж░ effect ржЪрж╛рж▓рж╛ржирзЛ ржжрж░ржХрж╛рж░ тАФ bug рж╣рждрзЗ ржкрж╛рж░рзЗ                                   |

---

## ЁЯУМ Extra Tip:

ЁЯФ╕ ржЖржкржирж┐ ржпржжрж┐ dependency array-ржП `setServerUrl` ржПрж░ ржоржд stable function ржжрзЗржи тАФ рж╕ржорж╕рзНржпрж╛ рж╣ржмрзЗ ржирж╛ред
React ржЬрж╛ржирзЗ `set` functions ржХржЦржирзЛ ржмржжрж▓рж╛рзЯ ржирж╛ред

---

## тЬЕ рж╕ржВржХрзНрж╖рзЗржкрзЗ ржоржирзЗ рж░рж╛ржЦрзБржи:

> ржЖржкржирж┐ ржпржжрж┐ `useEffect` ржПрж░ ржнрж┐рждрж░рзЗ ржПржоржи ржХрзЛржирзЛ ржорж╛ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи, ржпрзЗржЯрж╛ _ржкрж░рж┐ржмрж░рзНрждржи рж╣рждрзЗ ржкрж╛рж░рзЗ_, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж╛ dependency array-ржП ржжрзЗржУрзЯрж╛ **ржЕржмрж╢рзНржпржЗ ржжрж░ржХрж╛рж░** тАФ ржирж╛ рж╣рж▓рзЗ React ржЖржЧрзЗрж░ ржбрзЗржЯрж╛ ржирж┐рзЯрзЗржЗ ржкрзЬрзЗ ржерж╛ржХржмрзЗред

---

ржнрж╛ржЗ, ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ Visual Cheatsheet ржмрж╛ Bengali Explainer Video Script ржХрж░рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ ржпрзЗржи ржирждрзБржирж░рж╛ рж╕рж╣ржЬрзЗ рж╢рж┐ржЦрждрзЗ ржкрж╛рж░рзЗред ржжрж░ржХрж╛рж░ рж╣рж▓рзЗ ржЬрж╛ржирж┐рзЯрзЗ ржжрж┐рзЯрзЗржиред ЁЯЩМ
HereтАЩs a Bangla summary (with code highlights and real-life explanations) for **Section 3.4: "What to do when you don't want to re-synchronize"** from your React book chapter **тАЬLifecycle of Reactive EffectsтАЭ**:

---

## рзй.рзк: ржпржЦржи ржЖржкржирж┐ ржЪрж╛ржи ржирж╛ Effect ржмрж╛рж░ржмрж╛рж░ ржЪрж▓рзБржХ {/* what-to-do-when-you-dont-want-to-re-synchronize */}

ржЖржЧрзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ ржЖржорж░рж╛ `roomId` ржУ `serverUrl`-ржХрзЗ dependency рж╣рж┐рж╕рзЗржмрзЗ ржжрж┐рзЯрзЗ рж▓рж┐ржирзНржЯрж╛рж░рзЗрж░ error ржарж┐ржХ ржХрж░рзЗржЫрж┐рж▓рж╛ржоред ржХрж┐ржирзНрждрзБ ржХрж┐ржЫрзБ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржкржирж┐ рж▓рж┐ржирзНржЯрж╛рж░ржХрзЗ ржкрзНрж░ржорж╛ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржпрзЗ ржПржЗ ржнрзНржпрж╛рж▓рзБржЧрзБрж▓рзЛ **reactive ржирж╛**тАФржорж╛ржирзЗ ржПржЧрзБрж▓рзЛ ржХржЦржирзЛ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ ржирж╛ред

---

### ЁЯза рззржо ржХрзМрж╢рж▓: Component-ржПрж░ ржмрж╛ржЗрж░рзЗ ржирж┐рзЯрзЗ ржпрж╛ржи

```js
const serverUrl = "https://localhost:1234"; // рж░рзЗржирзНржбрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржмржжрж▓рж╛рзЯ ржирж╛
const roomId = "general"; // рж░рзЗржирзНржбрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржмржжрж▓рж╛рзЯ ржирж╛

function ChatRoom() {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, []); // тЬЕ dependency ржирж╛ржЗ, ржХрж╛рж░ржг ржПржЧрзБрж▓рзЛ reactive ржирж╛
}
```

ржПржЦрж╛ржирзЗ `serverUrl` ржЖрж░ `roomId` component-ржПрж░ ржмрж╛ржЗрж░рзЗ, рждрж╛ржЗ React ржЬрж╛ржирзЗ ржПржЧрзБрж▓рзЛ ржХржЦржирзЛ ржмржжрж▓рж╛рзЯ ржирж╛ред Effect рж╢рзБржзрзБ ржПржХржмрж╛рж░ржЗ ржЪрж▓ржмрзЗред

---

### ЁЯТб рзирзЯ ржХрзМрж╢рж▓: Effect-ржПрж░ ржнрж┐рждрж░рзЗржЗ ржШрзЛрж╖ржгрж╛ ржХрж░рзБржи

```js
function ChatRoom() {
  useEffect(() => {
    const serverUrl = "https://localhost:1234"; // reactive ржирж╛
    const roomId = "general"; // reactive ржирж╛
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, []); // тЬЕ dependency ржирж╛ржЗ
}
```

ржПржЦрж╛ржирзЗ `serverUrl` ржЖрж░ `roomId` рж╕рж░рж╛рж╕рж░рж┐ Effect block-ржПрж░ ржнрж┐рждрж░рзЗред ржПржЧрзБрж▓рзЛ rendering-ржПрж░ рж╕ржорзЯ рждрзИрж░рж┐ рж╣ржЪрзНржЫрзЗ ржирж╛, рждрж╛ржЗ ржПржЧрзБрж▓рзЛ reactive ржирж╛ред

---

### тЪая╕П ржнрзБрж▓ ржкржерзЗ рж▓рж┐ржирзНржЯрж╛рж░ ржЪрзБржк ржХрж░рж╛ржмрзЗржи ржирж╛

ржЕржирзЗржХрзЗ рж▓рж┐ржирзНржЯрж╛рж░ржХрзЗ ржЪрзБржк ржХрж░рж╛рждрзЗ ржирж┐ржЪрзЗрж░ ржорждрзЛ ржХрж░рзЗ:

```js
useEffect(() => {
  // ...
  // ЁЯФ┤ ржЦрж╛рж░рж╛ржк ржЕржнрзНржпрж╛рж╕!
  // eslint-ignore-next-line react-hooks/exhaustive-deps
}, []);
```

**ржПржЯрж╛ React ржПрж░ ржирж┐рзЯржо ржнрж╛ржЩрж╛!** ржЖржкржирж╛рж░ ржХрзЛржбрзЗ ржмрж╛ржЧ ржерж╛ржХрж▓рзЗ рждрж╛ ржарж┐ржХ ржХрж░рждрзЗ рж╣ржмрзЗ, ржирж╛ ржпрзЗ рж╢рзБржзрзБ рж▓рж┐ржирзНржЯрж╛рж░ ржЪрзБржк ржХрж░рж╛рж▓рзЗржЗ рж╕ржорж╕рзНржпрж╛ ржорж┐ржЯрзЗ ржпрж╛ржмрзЗред

---

### тЬЕ ржХрж┐ржнрж╛ржмрзЗ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи ржХрж░ржмрзЗржи?

- ржЖржкржирж╛рж░ Effect ржпржжрж┐ ржПржХрж╛ржзрж┐ржХ ржХрж╛ржЬ ржХрж░рзЗ, рж╕рзЗржЯрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж░рзБржиред [Split ржХрж░рж╛ рж╢рзЗржЦрж╛ ржжрж░ржХрж╛рж░](/learn/separating-events-from-effects)
- ржпржжрж┐ ржЖржкржирж┐ state/prop ржПрж░ рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХ ржорж╛ржи ржкрзЬрждрзЗ ржЪрж╛ржи ржХрж┐ржирзНрждрзБ рж╕рзЗржЯрж╛ Effect-ржПрж░ trigger рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржирж╛ ржЪрж╛ржи, рждрж╛рж╣рж▓рзЗ Effect-ржХрзЗ ржжрзБ'ржнрж╛ржЧ ржХрж░рзБржитАФreactive ржЕржВрж╢ Effect-ржП рж░рж╛ржЦрзБржи, ржЖрж░ non-reactive ржЕржВрж╢ ржЕржирзНржп ржЬрж╛рзЯржЧрж╛рзЯ рж╕рж░рж┐рзЯрзЗ ржлрзЗрж▓рзБржи (ржпрзЗржоржи: Effect Event)ред
- ржпржЦржиржЗ ржХрзЛржирзЛ object ржмрж╛ function ржХрзЗ dependency ржХрж░рзЗржи, ржирж┐рж╢рзНржЪрж┐ржд рж╣рзЛржи рж╕рзЗржЯрж╛ ржкрзНрж░рждрж┐ render-ржП ржирждрзБржи ржирж╛ рж╣рзЯред [ржПржЦрж╛ржирзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржкрзЬрзБржи](/learn/removing-effect-dependencies)

---

рждрзЛржорж╛рж░ рж▓рзЗржЦрж╛ рж╕рж╛ржорж╛рж░рж┐ржЯрж╛ ржЕржирзЗржХ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкржпрж╝рзЗржирзНржЯ рж╕рзНржкрж░рзНрж╢ ржХрж░рзЗржЫрзЗред ржирж┐ржЪрзЗ ржЖржорж┐ ржПржЯрж╛ржХрзЗ ржкрж░рж┐ржкрзВрж░рзНржг, рж╕рж╣ржЬ ржУ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржмрж╛ржВрж▓рж╛ржпрж╝ рж▓рж┐ржЦрзЗ ржжрж┐ржЪрзНржЫрж┐ ржпрзЗржи React ржПрж░ `useEffect` ржПрж░ рж▓рж╛ржЗржлрж╕рж╛ржЗржХрзЗрж▓ ржПржмржВ рж░рж┐ржПржХрзНржЯрж┐ржн ржЖржЪрж░ржгржЯрж╛ ржЖрж░ржУ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржмрзЛржЭрж╛ ржпрж╛ржпрж╝:

---

### тЬЕ Reactive Effect Lifecycle (рж░рж┐ржПржХрзНржЯрж┐ржн ржПржлрзЗржХрзНржЯрзЗрж░ ржЬрзАржмржиржЪржХрзНрж░) тАФ ржмрж╛ржВрж▓рж╛ржпрж╝ ржмрзНржпрж╛ржЦрзНржпрж╛

React Component-ржПрж░ `useEffect` ржПрж░ рж▓рж╛ржЗржлрж╕рж╛ржЗржХрзЗрж▓ржХрзЗ ржХржЦржирзЛржЗ рж╕рж░рж╛рж╕рж░рж┐ Component-ржПрж░ рж▓рж╛ржЗржлрж╕рж╛ржЗржХрзЗрж▓рзЗрж░ ржорждрзЛ ржзрж░рзЗ ржирзЗржУржпрж╝рж╛ ржпрж╛ржмрзЗ ржирж╛ред

---

#### ЁЯУМ ржХрзАржнрж╛ржмрзЗ `useEffect` ржХрж╛ржЬ ржХрж░рзЗ?

1. **ржкрзНрж░ржержорзЗ JSX рж░рзЗржирзНржбрж╛рж░ рж╣ржпрж╝** тАУ ржорж╛ржирзЗ, ржпржЦржи Component ржкрзНрж░ржержоржмрж╛рж░ ржорж╛ржЙржирзНржЯ рж╣ржпрж╝ рждржЦржи UI рж░рзЗржирзНржбрж╛рж░ рж╣ржпрж╝ред
2. **рждрж╛рж░ржкрж░ `useEffect` ржЪрж▓рзЗ** тАУ UI рж░рзЗржирзНржбрж╛рж░ рж╣ржмрж╛рж░ ржкрж░ `useEffect` ржПрж░ ржорж╛ржзрзНржпржорзЗ ржХрж┐ржЫрзБ Synchronization (ржпрзЗржоржи ржбрж╛ржЯрж╛ ржлрзЗржЪ, рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржЗрждрзНржпрж╛ржжрж┐) ржХрж░рж╛ рж╣ржпрж╝ред
3. **ржпржЦржи Component ржЖржкржбрзЗржЯ рж╣ржпрж╝ ржмрж╛ ржирждрзБржи Props ржЖрж╕рзЗ**, рждржЦржиржУ `useEffect` ржЖржмрж╛рж░ ржЪрж▓рждрзЗ ржкрж╛рж░рзЗ тАФ рждржмрзЗ ржЖржЧрзЗрж░ ржХрж╛ржЬ ржмржирзНржз ржХрж░рзЗ ржирждрзБржи ржХрж╛ржЬ рж╢рзБрж░рзБ ржХрж░рзЗред ржПржХрзЗржЗ ржмрж▓рзЗ _clean-up and re-run_ред

---

#### ЁЯУМ ржХрзЗржи Clean-Up ржжрж░ржХрж╛рж░?

ржзрж░рзЛ рждрзБржорж┐ ржПржХржЯрж╛ ржЪрзНржпрж╛ржЯ рж░рзБржорзЗ ржЖржЫрзЛ (roomId `'general'`), рж╣ржарж╛рзО ржЕржирзНржп рж░рзБржорзЗ ржЧрзЗрж▓рзЗ (roomId `'tech'`), рждржЦржи ржЖржЧрзЗрж░ рж╕рж╛рж░рзНржнрж╛рж░ ржХрж╛ржирзЗржХрж╢ржиржЯрж╛ ржмржирзНржз (clean-up) ржХрж░рзЗ ржирждрзБржиржЯрж╛ ржЦрзБрж▓рждрзЗ рж╣ржмрзЗред
React ржПржЯрж╛ _automatic_ ржнрж╛ржмрзЗ ржХрж░рзЗ ржирж╛ тАФ рждрзЛржорж╛ржХрзЗ `useEffect`-ржПрж░ ржоржзрзНржпрзЗ `return` ржжрж┐ржпрж╝рзЗ ржЖржЧрзЗрж░ ржХрж╛ржЬржЯрж╛ ржмржирзНржз ржХрж░рждрзЗ рж╣ржмрзЗред

```js
useEffect(() => {
  const connection = createConnection(roomId);
  connection.connect();
  return () => connection.disconnect(); // clean-up
}, [roomId]); // dependency
```

---

#### ЁЯУМ Component vs Effect Viewpoint

- Component ржПрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг: Component ржорж╛ржЙржирзНржЯ, ржЖржкржбрзЗржЯ ржмрж╛ ржЖржиржорж╛ржЙржирзНржЯ рж╣ржпрж╝ред
- Effect ржПрж░ ржжрзГрж╖рзНржЯрж┐ржХрзЛржг: ржХрзЛржи data ржмрж╛ value (ржпрзЗржоржи `roomId`, `props`, `state`) ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рж▓рзЗ Effect synchronize ржХрж░рзЗ тАФ ржЖржЧрзЗрж░ ржХрж╛ржЬ ржмржирзНржз ржХрж░рзЗ ржирждрзБржи ржХрж░рзЗ рж╢рзБрж░рзБ ржХрж░рзЗред

**ЁЯОп ржорзВрж▓ ржкржпрж╝рзЗржирзНржЯ:**
ЁЯСЙ ржпржЦржиржЗ dependency (ржпрзЗржоржи `roomId`, `serverUrl`, `props.value`) ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝, рждржЦржи ржЖржЧрзЗрж░ ржХрж╛ржЬ clean ржХрж░рзЗ ржирждрзБржиржнрж╛ржмрзЗ synchronize ржХрж░рж╛ рж╣ржпрж╝ред

---

#### ЁЯУМ React-ржПрж░ Strict Mode ржП ржбрж╛ржмрж▓ Effect:

React ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ ржорзЛржбрзЗ `useEffect` ржжрзБржЗржмрж╛рж░ ржЪрж╛рж▓рж╛ржпрж╝:

- ржПржХржмрж╛рж░ ржЪрж╛рж▓рж╛ржпрж╝, ржЖржмрж╛рж░ ржмржирзНржз ржХрж░рзЗред
- рждрж╛рж░ржкрж░ ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛ржпрж╝ред

ржПржЯрж╛ ржХрж░рзЗ рж╢рзБржзрзБ ржЪрзЗржХ ржХрж░рж╛рж░ ржЬржирзНржп тАФ рждрзБржорж┐ clean-up ржарж┐ржХржарж╛ржХ ржХрж░ржЫрзЛ ржХрж┐ржирж╛ред

---

#### ЁЯУМ ржХрзЛржи variables dependency рж╣ржмрзЗ?

- Component ржлрж╛ржВрж╢ржирзЗрж░ ржнрж┐рждрж░рзЗ ржпрзЗрж╕ржм variable (`const`, `let`, `props`, `state`) ржбрж┐ржХрзНрж▓рзЗржпрж╝рж╛рж░ ржХрж░рзЛ тАФ рж╕рзЗржЧрзБрж▓рзЛ рж╕ржм **reactive**, ржорж╛ржирзЗ ржПржЧрзБрж▓рзЛрж░ ржкрж░рж┐ржмрж░рзНрждржи effect-ржХрзЗ ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░рзЗред
- рждрж╛ржЗ, ржПржЧрзБрж▓рзЛржХрзЗржЗ dependency рж╣рж┐рж╕рзЗржмрзЗ `useEffect` ржП declare ржХрж░рждрзЗ рж╣ржмрзЗред

```js
useEffect(() => {
  doSomething(props.value);
}, [props.value]); // тЬЕ dependency ржжрж┐рж▓рзЗржЗ warning ржпрж╛ржмрзЗ
```

---

#### ЁЯУМ ржХржЦржи ржПржХрж╛ржзрж┐ржХ `useEffect` рж▓рж╛ржЧржмрзЗ?

- ржпржжрж┐ ржПржХ `useEffect` ржПрж░ ржХрж╛ржЬ ржЕржирзНржп `useEffect` ржХрзЗ ржкрзНрж░ржнрж╛ржмрж┐ржд ржХрж░рзЗ, рждрж╛рж╣рж▓рзЗ рждрж╛ржжрзЗрж░ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛ ржнрж╛рж▓рзЛред
- ржпрзЗржоржи, рждрзБржорж┐ ржЪрзНржпрж╛ржЯ рж░рзБржо рж▓рзЛржб ржХрж░ржЫрзЛ ржПржХ `useEffect` ржП, ржЖрж░ ржЗржЙржЬрж╛рж░рзЗрж░ ржЙржкрж╕рзНржерж┐рждрж┐ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░ржЫрзЛ ржЖрж░рзЗржХржЯрж╛рждрзЗ тАФ рждрж╛рж╣рж▓рзЗ ржПржЧрзБрж▓рзЛ ржЖрж▓рж╛ржжрж╛ `useEffect` рж╣ржУржпрж╝рж╛ ржЙржЪрж┐рждред

```js
useEffect(() => {
  // Load chat room
}, [roomId]);

useEffect(() => {
  // Track user activity
}, [userId]);
```

---

### ЁЯФБ Recap (рж╕рж╛рж░рж╛ржВрж╢):

- `useEffect` UI рж░рзЗржирзНржбрж╛рж░ рж╣ржУржпрж╝рж╛рж░ ржкрж░ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝ред
- ржпрзЗрж╕ржм ржнрзНржпрж╛рж▓рзБ ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓ (reactive), рждрж╛ржжрзЗрж░ dependency рж╣рж┐рж╕рзЗржмрзЗ declare ржХрж░рждрзЗржЗ рж╣ржмрзЗред
- ржЖржЧрзЗрж░ effect clean ржирж╛ ржХрж░рж▓рзЗ bug рж╣ржмрзЗ (ржпрзЗржоржи multiple API call ржмрж╛ memory leak)ред
- effect ржЧрзБрж▓рзЛржХрзЗ component-ржПрж░ ржжрзГрж╖рзНржЯрж┐рждрзЗ ржирж╛ ржжрзЗржЦрзЗ, **independent synchronization process** рж╣рж┐рж╕рзЗржмрзЗ ржнрж╛ржмрзЛред
- Strict Mode-ржП React ржжрзБржЗржмрж╛рж░ ржЪрж╛рж▓рж┐ржпрж╝рзЗ clean-up ржЯрзЗрж╕рзНржЯ ржХрж░рзЗред

ЁЯзНтАНтЩВя╕П **ржЙржжрж╛рж╣рж░ржг: ржзрж░рзБржи ржЖржкржирж┐ ржПржХржЯрж╛ ржжрзЛржХрж╛ржирзЗ ржЖржЫрзЗржи (component)ред ржЖржкржирж┐ ржХрж╛ржЙржХрзЗ ржмрж▓рзЗржи, тАЬржпржЦржиржЗ ржжрж╛ржо ржмржжрж▓рж╛ржмрзЗ ржмрж╛ ржирждрзБржи ржкржгрзНржп ржЖрж╕ржмрзЗ, рждржЦржи ржЖржорж╛ржХрзЗ ржЬрж╛ржирж╛ржмрзЗржитАЭ (effect)ред ржПржЦржи ржпржжрж┐ ржЖржкржирж┐ ржнрзБрж▓рзЗ ржпрж╛ржи ржжрж╛ржо ржЖрж░ ржкржгрзНржпрзЗрж░ ржирж╛ржо ржмрж▓рждрзЗ, рждрж╛рж╣рж▓рзЗ ржХрзЗржЙ ржЖржкржирж╛ржХрзЗ ржЖрж░ ржЦржмрж░ ржжрзЗржмрзЗ ржирж╛тАФeven ржпржжрж┐ рж╕ржм ржмржжрж▓рзЗ ржпрж╛рзЯред рждрж╛ржЗ Effect-ржХрзЗ dependency ржЧрзБрж▓рзЛ ржмрж▓рж╛ ржЦрзБржм ржЬрж░рзБрж░рж┐!**

---
