ржЕржмрж╢рзНржпржЗ! ржЖржкржирж╛рж░ ржжрзЗржУрзЯрж╛ ржбрзНрж░рж╛ржлржЯрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ, ржПржХржЯрж┐ рж╕рж╣ржЬ ржПржмржВ ржкрзНрж░рж╛ржЮрзНржЬрж▓ ржнрж╛рж╖рж╛рзЯ ржмрзНрж▓ржЧ ржкрзЛрж╕рзНржЯ ржирж┐ржЪрзЗ ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛред

---

### **рж╢рж┐рж░рзЛржирж╛ржо: ржЗржорзЗржЬ ржлрзЗржЪ ржХрж░рждрзЗ ржЧрж┐рзЯрзЗ JSON ржкрж╛рж░рзНрж╕рж┐ржВ ржПрж░рж░? ржЪрж▓рзБржи ржЬрж╛ржирж┐ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ ржПрж░ рж░рж╣рж╕рзНржп**

ржЖржкржирж┐ ржПржХржЬржи ржУрзЯрзЗржм ржбрзЗржнрзЗрж▓ржкрж╛рж░ред ржПржХржЯрж┐ API ржерзЗржХрзЗ ржбрзЗржЯрж╛ `fetch` ржХрж░ржЫрзЗржи, рж╕ржмржХрж┐ржЫрзБ ржарж┐ржХржарж╛ржХржЗ ржЪрж▓ржЫрж┐рж▓ред ржХрж┐ржирзНрждрзБ рж╣ржарж╛рзО ржХрж░рзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржХржирж╕рзЛрж▓рзЗ ржПржХржЯрж┐ ржЕржжрзНржнрзБржд ржПрж░рж░ ржжрзЗржЦрждрзЗ ржкрзЗрж▓рзЗржи:

`Uncaught (in promise) SyntaxError: Unexpected token 'я┐╜', "я┐╜я┐╜я┐╜я┐╜ Exif"... is not valid JSON`

ржПржЗ ржзрж░ржирзЗрж░ ржПрж░рж░ ржжрзЗржЦрж▓рзЗ ржШрж╛ржмрзЬрзЗ ржпрж╛ржУрзЯрж╛ржЯрж╛ржЗ рж╕рзНржмрж╛ржнрж╛ржмрж┐ржХред ржПрж░ ржорж╛ржирзЗ ржХрзА? ржХрзЗржи ржПржЯрж┐ рж╣рж▓рзЛ? ржПржмржВ рж╕ржмржЪрзЗрзЯрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг, ржПрж░ рж╕ржорж╛ржзрж╛ржи ржХрзА?

ржЖржЬржХрзЗрж░ ржкрзЛрж╕рзНржЯрзЗ ржЖржорж░рж╛ ржПржЗ рж╕ржорж╕рзНржпрж╛ржЯрж┐рж░ ржЧржнрзАрж░рзЗ ржпрж╛ржм ржПржмржВ ржЬрж╛ржиржм ржХрж┐ржнрж╛ржмрзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ (ржпрзЗржоржи: ржЫржмрж┐ ржмрж╛ ржнрж┐ржбрж┐ржУ) ржЖрж╕рзЗ, ржХрзЗржи ржЖрж╕рзЗ ржПржмржВ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕ржарж┐ржХржнрж╛ржмрзЗ рждрж╛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ рж╣ржпрж╝ред

#### **рж╕ржорж╕рзНржпрж╛ржЯрж╛ ржЖрж╕рж▓рзЗ ржХрзА?**

ржкрзНрж░ржержорзЗржЗ ржПрж░рж░ ржорзЗрж╕рзЗржЬржЯрж┐ ржмрзЛржЭрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐ред `SyntaxError: ... is not valid JSON` ржЕржВрж╢ржЯрж┐ ржмрж▓ржЫрзЗ ржпрзЗ, ржЖржкржирж╛рж░ ржХрзЛржб ржПржХржЯрж┐ JSON ржбрзЗржЯрж╛ ржкрж╛ржмрзЗ ржмрж▓рзЗ ржЖрж╢рж╛ ржХрж░рзЗржЫрж┐рж▓, ржХрж┐ржирзНрждрзБ ржпрж╛ ржкрзЗрзЯрзЗржЫрзЗ рждрж╛ ржмрзИржз JSON ржирзЯред ржЖрж░ `Unexpected token 'я┐╜'` ржЕржВрж╢ржЯрж┐ ржЗржЩрзНржЧрж┐ржд ржжрж┐ржЪрзНржЫрзЗ ржпрзЗ, ржХрзЛржбржЯрж┐ ржПржоржи ржХрж┐ржЫрзБ ржбрзЗржЯрж╛ ржкрзЗрзЯрзЗржЫрзЗ ржпрж╛ рж╕рзЗ ржЯрзЗржХрзНрж╕ржЯ рж╣рж┐рж╕рзЗржмрзЗ ржкрзЬрждрзЗ ржкрж╛рж░ржЫрзЗ ржирж╛ред `Exif` рж╢ржмрзНржжржЯрж┐ ржПржХржЯрж┐ ржмрзЬ рж╕рзВрждрзНрж░, ржХрж╛рж░ржг ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд ржЫржмрж┐рж░ ржорзЗржЯрж╛ржбрзЗржЯрж╛рж░ рж╕рж╛ржерзЗ ржпрзБржХрзНржд ржерж╛ржХрзЗред

ржПрж░ ржорж╛ржирзЗ рж╣рж▓рзЛ, ржЖржкржирж╛рж░ `fetch()` ржХрж▓ржЯрж┐ ржПржХржЯрж┐ API ржПржирзНржбржкрзЯрзЗржирзНржЯ ржерзЗржХрзЗ ржбрзЗржЯрж╛ ржЖржирж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░ржЫрзЗ, ржпрзЗржЦрж╛ржи ржерзЗржХрзЗ рж╕рж╛рж░рзНржнрж╛рж░ ржЖрж╕рж▓рзЗ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ (ржПржЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржПржХржЯрж┐ ржЫржмрж┐) ржкрж╛ржарж╛ржЪрзНржЫрзЗ, ржХрж┐ржирзНрждрзБ ржЖржкржирж╛рж░ ржХрзЛржб рж╕рзЗржЗ ржбрзЗржЯрж╛ржХрзЗ JSON рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛рж░рзНрж╕ ржмрж╛ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░ржЫрзЗред

ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржЖржкржирж┐ рж╣рзЯрждрзЛ ржПржоржи ржПржХржЯрж┐ ржПржирзНржбржкрзЯрзЗржирзНржЯрзЗ `fetch` ржХрж░ржЫрзЗржи ржпрж╛ ржЫржмрж┐ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рзЗ:
`https://pollinations.ai/p/Bird%20Fly%20in%20the%20sky?seed=3878`

ржПржЗ URL-ржЯрж┐ рж╕рж░рж╛рж╕рж░рж┐ ржПржХржЯрж┐ ржЫржмрж┐ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ, ржХрзЛржирзЛ JSON ржЕржмржЬрзЗржХрзНржЯ ржирзЯред

#### **ржХрзЗржи ржПржЗ ржнрзБрж▓ржЯрж┐ рж╣рзЯ?**

рж╕рж╛ржзрж╛рж░ржгржд ржПржЗ ржнрзБрж▓ржЯрж┐ ржШржЯрзЗ ржпржЦржи ржЖржорж░рж╛ `fetch` ржХрж░рж╛рж░ ржкрж░ `response.json()` ржорзЗржержбржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ред ржпрзЗржоржи:

```javascript
fetch("https://pollinations.ai/p/...")
  .then((response) => response.json()) // ЁЯЪл ржнрзБрж▓: ржПржЦрж╛ржирзЗ рж╕ржорж╕рзНржпрж╛ржЯрж┐ рж╣ржЪрзНржЫрзЗ
  .then((data) => {
    // ... ржХрзЛржб
  });
```

`response.json()` ржорзЗржержбржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ ржЖрж╕рж╛ ржбрзЗржЯрж╛ржХрзЗ ржЯрзЗржХрзНрж╕ржЯ рж╣рж┐рж╕рзЗржмрзЗ ржзрж░рзЗ ржирзЗрзЯ ржПржмржВ рждрж╛ржХрзЗ JSON ржЕржмржЬрзЗржХрзНржЯрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЗред ржХрж┐ржирзНрждрзБ рж╕рж╛рж░рзНржнрж╛рж░ ржпржЦржи ржЫржмрж┐ ржмрж╛ ржнрж┐ржбрж┐ржУрж░ ржорждрзЛ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ ржкрж╛ржарж╛рзЯ, рждржЦржи `response.json()` рж╕рзЗржЗ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ржХрзЗ ржЯрзЗржХрзНрж╕ржЯ рж╣рж┐рж╕рзЗржмрзЗ ржкрзЬрждрзЗ ржкрж╛рж░рзЗ ржирж╛ ржПржмржВ ржПрж░рж░ ржжрзЗрзЯред

#### **рж╕ржарж┐ржХ рж╕ржорж╛ржзрж╛ржи ржХрзА?**

ржпржЦржи ржЖржорж░рж╛ ржЬрж╛ржирж┐ ржпрзЗ рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ (ржЫржмрж┐, ржнрж┐ржбрж┐ржУ, ржкрж┐ржбрж┐ржПржл ржЗрждрзНржпрж╛ржжрж┐) ржЖрж╕ржмрзЗ, рждржЦржи ржЖржорж╛ржжрзЗрж░ `response.json()` ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ `response.blob()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред

**Blob ржХрзА?**
Blob (Binary Large Object) рж╣рж▓рзЛ ржПржХржЯрж┐ ржлрж╛ржЗрж▓-рж╕ржжрзГрж╢ ржЕржмржЬрзЗржХрзНржЯ ржпрзЗржЦрж╛ржирзЗ ржЕржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓, рж░' ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ рж╕рзНржЯрзЛрж░ ржХрж░рж╛ рж╣рзЯред ржЫржмрж┐, ржнрж┐ржбрж┐ржУ ржмрж╛ ржпрзЗржХрзЛржирзЛ ржлрж╛ржЗрж▓ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржПржЯрж┐ ржЦрзБржмржЗ ржЙржкржпрзЛржЧрзАред

**рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐:**

1.  `fetch` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрзЗржЯрж╛ ржЖржирзБржиред
2.  `response.blob()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж░рзЗрж╕ржкржирзНрж╕ржХрзЗ ржПржХржЯрж┐ Blob ржЕржмржЬрзЗржХрзНржЯрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рзБржиред
3.  `URL.createObjectURL(blob)` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржР Blob ржЕржмржЬрзЗржХрзНржЯрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЕрж╕рзНржерж╛рзЯрзА URL рждрзИрж░рж┐ ржХрж░рзБржиред
4.  ржПржЗ URL-ржЯрж┐ ржПржХржЯрж┐ `<img>` ржЯрзНржпрж╛ржЧрзЗрж░ `src` ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЫржмрж┐ржЯрж┐ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзБржиред

**ржкрзНрж▓рзЗржЗржи ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗ ржХрзЛржб ржЙржжрж╛рж╣рж░ржг:**

```javascript
fetch("https://pollinations.ai/p/Bird%20Fly%20in%20the%20sky?seed=3878")
  .then((response) => response.blob()) // тЬЕ рж╕ржарж┐ржХ: рж░рзЗрж╕ржкржирзНрж╕ржХрзЗ ржмрж╛ржЗржирж╛рж░рж┐ ржмрзНрж▓ржм рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛рж░рзНрж╕ ржХрж░рзБржи
  .then((blob) => {
    const imageUrl = URL.createObjectURL(blob);
    // ржПржЦржи ржПржЗ imageUrl ржЯрж┐ ржПржХржЯрж┐ img ржЯрзНржпрж╛ржЧрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ
    document.getElementById("myImage").src = imageUrl;
  });
```

ржПржмржВ ржЖржкржирж╛рж░ HTML ржлрж╛ржЗрж▓:

```html
<img id="myImage" alt="Generated image" />
```

#### **React ржЕрзНржпрж╛ржкрзЗ ржХрж┐ржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**

React-ржП ржХрж╛ржЬржЯрж┐ ржЖрж░ржУ рж╕рж╣ржЬ ржПржмржВ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ ржХрж░рж╛ ржпрж╛рзЯ `useState` ржПржмржВ `useEffect` рж╣рзБржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

```jsx
import React, { useState, useEffect } from "react";

const ImageFetcher = () => {
  const [imageUrl, setImageUrl] = useState("");
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchImage = async () => {
      try {
        const response = await fetch(
          "https://pollinations.ai/p/Bird%20Fly%20in%20the%20sky?seed=3878"
        );
        if (!response.ok) {
          throw new Error("Network response was not ok");
        }
        const blob = await response.blob();
        const url = URL.createObjectURL(blob);
        setImageUrl(url); // React state ржП ржЗржорзЗржЬ URL рж╕рзЗржЯ ржХрж░рзБржи
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchImage();

    // ржХрзНрж▓рж┐ржи-ржЖржк ржлрж╛ржВрж╢ржи: ржХржорзНржкрзЛржирзЗржирзНржЯ ржЖржиржорж╛ржЙржирзНржЯ рж╣рж▓рзЗ ржорзЗржорзЛрж░рж┐ ржерзЗржХрзЗ URL ржЯрж┐ рж░рж┐рж▓рж┐ржЬ ржХрж░рзЗ ржжрзЗржУрзЯрж╛ ржнрж╛рж▓рзЛ
    return () => {
      if (imageUrl) {
        URL.revokeObjectURL(imageUrl);
      }
    };
  }, []); // ржЦрж╛рж▓рж┐ dependency array ржорж╛ржирзЗ ржПржЗ ржЗржлрзЗржХрзНржЯржЯрж┐ рж╢рзБржзрзБ ржПржХржмрж╛рж░ рж░рж╛ржи ржХрж░ржмрзЗ

  if (loading) return <p>Loading image...</p>;
  if (error) return <p>Error: {error}</p>;

  return (
    <img src={imageUrl} alt="Generated image" style={{ maxWidth: "100%" }} />
  );
};

export default ImageFetcher;
```

#### **рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк**

ржЖрж╕рзБржи ржорзВрж▓ ржмрж┐рж╖рзЯржЯрж┐ ржЖрж░рзЗржХржмрж╛рж░ ржЭрж╛рж▓рж┐рзЯрзЗ ржирзЗржЗ:

- тЭМ **ржнрзБрж▓ ржкржжрзНржзрждрж┐:** `response.json()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛, ржпржЦржи рж╕рж╛рж░рзНржнрж╛рж░ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ ржкрж╛ржарж╛рзЯред ржПржЯрж┐ рж╢рзБржзрзБ ржЯрзЗржХрзНрж╕ржЯ-ржнрж┐рждрзНрждрж┐ржХ JSON ржбрзЗржЯрж╛рж░ ржЬржирзНржп ржкрзНрж░ржпрзЛржЬрзНржпред
- тЬЕ **рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐:** `response.blob()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ред ржПржЯрж┐ ржЫржмрж┐, ржнрж┐ржбрж┐ржУ ржмрж╛ ржпрзЗржХрзЛржирзЛ ржлрж╛ржЗрж▓рзЗрж░ ржорждрзЛ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛рж░ ржЬржирзНржп рж╕ржарж┐ржХ ржЙржкрж╛рзЯред

ржЖрж╢рж╛ ржХрж░рж┐, ржПржЗ ржкрзЛрж╕рзНржЯржЯрж┐ ржкрзЬрж╛рж░ ржкрж░ ржЖржкржирж┐ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖрж░ржУ ржмрзЗрж╢рж┐ ржЖрждрзНржоржмрж┐рж╢рзНржмрж╛рж╕рзА рж╣ржмрзЗржи ржПржмржВ `Unexpected token 'я┐╜'` ржПрж░рж░ржЯрж┐ ржжрзЗржЦрж▓рзЗ ржЖрж░ ржнрзЯ ржкрж╛ржмрзЗржи ржирж╛ред рж╣рзНржпрж╛ржкрж┐ ржХрзЛржбрж┐ржВ! ЁЯЪА
